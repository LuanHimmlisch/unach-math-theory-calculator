var e,t,n=Object.getOwnPropertyNames,r=(e={"assets/index-7eadbbd1.js"(e,t){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var n,r,i,o,s=!1,a=!1,c=[],u=-1;function l(e){var t;t=e,c.includes(t)||c.push(t),a||s||(s=!0,queueMicrotask(f))}function h(e){let t=c.indexOf(e);-1!==t&&t>u&&c.splice(t,1)}function f(){s=!1,a=!0;for(let e=0;e<c.length;e++)c[e](),u=e;c.length=0,u=-1,a=!1}var d=!0;function p(e){r=e}function m(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function _(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach((e=>_(e,t)));let n=!1;if(t(e,(()=>n=!0)),n)return;let r=e.firstElementChild;for(;r;)_(r,t),r=r.nextElementSibling}function g(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var E=!1,v=[],y=[];function T(){return v.map((e=>e()))}function A(){return v.concat(y).map((e=>e()))}function x(e){v.push(e)}function R(e){y.push(e)}function O(e,t=!1){return N(e,(e=>{if((t?A():T()).some((t=>e.matches(t))))return!0}))}function N(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return N(e.parentElement,t)}}var I=[];function S(e,t=_,n=(()=>{})){!function(e){Te=!0;let t=Symbol();xe=t,Ae.set(t,[]);let n=()=>{for(;Ae.get(t).length;)Ae.get(t).shift()();Ae.delete(t)},r=()=>{Te=!1,n()};e(n),r()}((()=>{t(e,((e,t)=>{n(e,t),I.forEach((n=>n(e,t))),ve(e,e.attributes).forEach((e=>e())),e._x_ignore&&t()}))}))}function b(e){_(e,(e=>{U(e),function(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}(e)}))}var k=[],L=[],C=[];function w(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,L.push(t))}function P(e){k.push(e)}function M(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function U(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach((([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach((e=>e())),delete e._x_attributeCleanups[n])}))}var F=new MutationObserver(V),D=!1;function j(){F.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),D=!0}function $(){(B=B.concat(F.takeRecords())).length&&!K&&(K=!0,queueMicrotask((()=>{V(B),B.length=0,K=!1}))),F.disconnect(),D=!1}var B=[],K=!1;function G(e){if(!D)return e();$();let t=e();return j(),t}var W=!1,z=[];function V(e){if(W)return void(z=z.concat(e));let t=[],n=[],r=new Map,i=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&("childList"===e[o].type&&(e[o].addedNodes.forEach((e=>1===e.nodeType&&t.push(e))),e[o].removedNodes.forEach((e=>1===e.nodeType&&n.push(e)))),"attributes"===e[o].type)){let t=e[o].target,n=e[o].attributeName,s=e[o].oldValue,a=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},c=()=>{i.has(t)||i.set(t,[]),i.get(t).push(n)};t.hasAttribute(n)&&null===s?a():t.hasAttribute(n)?(c(),a()):c()}i.forEach(((e,t)=>{U(t,e)})),r.forEach(((e,t)=>{k.forEach((n=>n(t,e)))}));for(let o of n)t.includes(o)||(L.forEach((e=>e(o))),b(o));t.forEach((e=>{e._x_ignoreSelf=!0,e._x_ignore=!0}));for(let o of t)n.includes(o)||o.isConnected&&(delete o._x_ignoreSelf,delete o._x_ignore,C.forEach((e=>e(o))),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach((e=>{delete e._x_ignoreSelf,delete e._x_ignore})),t=null,n=null,r=null,i=null}function H(e){return X(q(e))}function Y(e,t,n){return e._x_dataStack=[t,...q(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter((e=>e!==t))}}function q(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?q(e.host):e.parentNode?q(e.parentNode):[]}function X(e){return new Proxy({objects:e},J)}var J={ownKeys:({objects:e})=>Array.from(new Set(e.flatMap((e=>Object.keys(e))))),has:({objects:e},t)=>t!=Symbol.unscopables&&e.some((e=>Object.prototype.hasOwnProperty.call(e,t))),get:({objects:e},t,n)=>"toJSON"==t?Z:Reflect.get(e.find((e=>Object.prototype.hasOwnProperty.call(e,t)))||{},t,n),set:({objects:e},t,n)=>Reflect.set(e.find((e=>Object.prototype.hasOwnProperty.call(e,t)))||e[e.length-1],t,n)};function Z(){return Reflect.ownKeys(this).reduce(((e,t)=>(e[t]=Reflect.get(this,t),e)),{})}function Q(e){let t=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach((([i,{value:o,enumerable:s}])=>{if(!1===s||void 0===o)return;let a=""===r?i:`${r}.${i}`;var c;"object"==typeof o&&null!==o&&o._x_interceptor?n[i]=o.initialize(e,a,i):"object"!=typeof(c=o)||Array.isArray(c)||null===c||o===n||o instanceof Element||t(o,a)}))};return t(e)}function ee(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,(()=>function(e,t){return t.split(".").reduce(((e,t)=>e[t]),e)}(t,n)),(e=>te(t,n,e)),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,i,o)=>{let s=e.initialize(r,i,o);return n.initialValue=s,t(r,i,o)}}else n.initialValue=e;return n}}function te(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),te(e[t[0]],t.slice(1),n)}e[t[0]]=n}var ne={};function re(e,t){ne[e]=t}function ie(e,t){return Object.entries(ne).forEach((([n,r])=>{let i=null;Object.defineProperty(e,`$${n}`,{get:()=>r(t,function(){if(i)return i;{let[e,n]=Re(t);return i={interceptor:ee,...e},w(t,n),i}}()),enumerable:!1})})),e}function oe(e,t,n,...r){try{return n(...r)}catch(i){se(i,e,t)}}function se(e,t,n=void 0){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout((()=>{throw e}),0)}var ae=!0;function ce(e){let t=ae;ae=!1;let n=e();return ae=t,n}function ue(e,t,n={}){let r;return le(e,t)((e=>r=e),n),r}function le(...e){return he(...e)}var he=fe;function fe(e,t){let n={};ie(n,e);let r=[n,...q(e)],i="function"==typeof t?function(e,t){return(n=(()=>{}),{scope:r={},params:i=[]}={})=>{pe(n,t.apply(X([r,...e]),i))}}(r,t):function(e,t,n){let r=function(e,t){if(de[e])return de[e];let n=Object.getPrototypeOf((async function(){})).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e;const i=()=>{try{let t=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(t,"name",{value:`[Alpine] ${e}`}),t}catch(i){return se(i,t,e),Promise.resolve()}};let o=i();return de[e]=o,o}(t,n);return(i=(()=>{}),{scope:o={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let a=X([o,...e]);if("function"==typeof r){let e=r(r,a).catch((e=>se(e,n,t)));r.finished?(pe(i,r.result,a,s,n),r.result=void 0):e.then((e=>{pe(i,e,a,s,n)})).catch((e=>se(e,n,t))).finally((()=>r.result=void 0))}}}(r,t,e);return oe.bind(null,e,t,i)}var de={};function pe(e,t,n,r,i){if(ae&&"function"==typeof t){let o=t.apply(n,r);o instanceof Promise?o.then((t=>pe(e,t,n,r))).catch((e=>se(e,i,t))):e(o)}else"object"==typeof t&&t instanceof Promise?t.then((t=>e(t))):e(t)}var me="x-";function _e(e=""){return me+e}var ge={};function Ee(e,t){return ge[e]=t,{before(t){if(!ge[t])return void console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");const n=Ce.indexOf(t);Ce.splice(n>=0?n:Ce.indexOf("DEFAULT"),0,e)}}}function ve(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map((([e,t])=>({name:e,value:t}))),r=ye(n);n=n.map((e=>r.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),t=t.concat(n)}let r={},i=t.map(Ne(((e,t)=>r[e]=t))).filter(be).map(function(e,t){return({name:n,value:r})=>{let i=n.match(ke()),o=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map((e=>e.replace(".",""))),expression:r,original:a}}}(r,n)).sort(we);return i.map((t=>function(e,t){let n=()=>{},r=ge[t.type]||n,[i,o]=Re(e);M(e,t.original,o);let s=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,i),r=r.bind(r,e,t,i),Te?Ae.get(xe).push(r):r())};return s.runCleanups=o,s}(e,t)))}function ye(e){return Array.from(e).map(Ne()).filter((e=>!be(e)))}var Te=!1,Ae=new Map,xe=Symbol();function Re(e){let t=[],[n,o]=function(e){let t=()=>{};return[n=>{let o=r(n);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((e=>e()))}),e._x_effects.add(o),t=()=>{void 0!==o&&(e._x_effects.delete(o),i(o))},o},()=>{t()}]}(e);return t.push(o),[{Alpine:ut,effect:n,cleanup:e=>t.push(e),evaluateLater:le.bind(le,e),evaluate:ue.bind(ue,e)},()=>t.forEach((e=>e()))]}var Oe=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function Ne(e=(()=>{})){return({name:t,value:n})=>{let{name:r,value:i}=Ie.reduce(((e,t)=>t(e)),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:i}}}var Ie=[];function Se(e){Ie.push(e)}function be({name:e}){return ke().test(e)}var ke=()=>new RegExp(`^${me}([^:^.]+)\\b`),Le="DEFAULT",Ce=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",Le,"teleport"];function we(e,t){let n=-1===Ce.indexOf(e.type)?Le:e.type,r=-1===Ce.indexOf(t.type)?Le:t.type;return Ce.indexOf(n)-Ce.indexOf(r)}var Pe=[],Me=!1;function Ue(e=(()=>{})){return queueMicrotask((()=>{Me||setTimeout((()=>{Fe()}))})),new Promise((t=>{Pe.push((()=>{e(),t()}))}))}function Fe(){for(Me=!1;Pe.length;)Pe.shift()()}function De(e,t){return Array.isArray(t)?je(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap((([e,t])=>!!t&&n(e))).filter(Boolean),i=Object.entries(t).flatMap((([e,t])=>!t&&n(e))).filter(Boolean),o=[],s=[];return i.forEach((t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))})),r.forEach((t=>{e.classList.contains(t)||(e.classList.add(t),o.push(t))})),()=>{s.forEach((t=>e.classList.add(t))),o.forEach((t=>e.classList.remove(t)))}}(e,t):"function"==typeof t?De(e,t()):je(e,t)}function je(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function $e(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach((([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)})),setTimeout((()=>{0===e.style.length&&e.removeAttribute("style")})),()=>{$e(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Be(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function Ke(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),r=(()=>{})){We(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=(()=>{}),r=(()=>{})){We(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function Ge(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Ge(t)}function We(e,t,{during:n,start:r,end:i}={},o=(()=>{}),s=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(i).length)return o(),void s();let a,c,u;!function(e,t){let n,r,i,o=Be((()=>{G((()=>{n=!0,r||t.before(),i||(t.end(),Fe()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning}))}));e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Be((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()})),finish:o},G((()=>{t.start(),t.during()})),Me=!0,requestAnimationFrame((()=>{if(n)return;let o=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),s=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===o&&(o=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),G((()=>{t.before()})),r=!0,requestAnimationFrame((()=>{n||(G((()=>{t.end()})),Fe(),setTimeout(e._x_transitioning.finish,o+s),i=!0)}))}))}(e,{start(){a=t(e,r)},during(){c=t(e,n)},before:o,end(){a(),u=t(e,i)},after:s,cleanup(){c(),u()}})}function ze(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&isNaN(r))return n;if("duration"===t||"delay"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}Ee("transition",((e,{value:t,modifiers:n,expression:r},{evaluate:i})=>{"function"==typeof r&&(r=i(r)),!1!==r&&(r&&"boolean"!=typeof r?function(e,t,n){Ke(e,De,"");let r={enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}};r[n](t)}(e,r,t):function(e,t,n){Ke(e,$e);let r=!t.includes("in")&&!t.includes("out")&&!n,i=r||t.includes("in")||["enter"].includes(n),o=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter(((e,n)=>n<t.indexOf("out")))),t.includes("out")&&!r&&(t=t.filter(((e,n)=>n>t.indexOf("out"))));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity"),c=s||t.includes("scale"),u=a?0:1,l=c?ze(t,"scale",95)/100:1,h=ze(t,"delay",0)/1e3,f=ze(t,"origin","center"),d="opacity, transform",p=ze(t,"duration",150)/1e3,m=ze(t,"duration",75)/1e3,_="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:f,transitionDelay:`${h}s`,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:_},e._x_transition.enter.start={opacity:u,transform:`scale(${l})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:f,transitionDelay:`${h}s`,transitionProperty:d,transitionDuration:`${m}s`,transitionTimingFunction:_},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${l})`})}(e,n,t))})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const i="visible"===document.visibilityState?requestAnimationFrame:setTimeout;let o=()=>i(n);t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):o():e._x_transition?e._x_transition.in(n):o():(e._x_hidePromise=e._x_transition?new Promise(((t,n)=>{e._x_transition.out((()=>{}),(()=>t(r))),e._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(r),queueMicrotask((()=>{let t=Ge(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):i((()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then((([e])=>e()));return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch((e=>{if(!e.isFromCancelledTransition)throw e}))}))})))};var Ve=!1;function He(e,t=(()=>{})){return(...n)=>Ve?t(...n):e(...n)}var Ye=!1;function qe(e){let t=r;p(((e,n)=>{let r=t(e);return i(r),()=>{}})),e(),p(t)}function Xe(e,t,r,i=[]){switch(e._x_bindings||(e._x_bindings=n({})),e._x_bindings[t]=r,t=i.includes("camel")?t.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase())):t){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=Ze(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some((t=>Ze(t,e.value))):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value)}))}(e,t);else{if(e.value===t)return;e.value=void 0===t?"":t}}(e,r);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=$e(e,t)}(e,r);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=De(e,t)}(e,r);break;case"selected":case"checked":!function(e,t,n){Je(e,t,n),function(e,t,n){e[t]!==n&&(e[t]=n)}(e,t,n)}(e,t,r);break;default:Je(e,t,r)}}function Je(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(Qe(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}function Ze(e,t){return e==t}function Qe(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function et(e,t,n){let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:""===r||(Qe(t)?!![t,"true"].includes(r):r)}function tt(e,t){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(r,i)}),t)}}function nt(e,t){let n;return function(){let r=this,i=arguments;n||(e.apply(r,i),n=!0,setTimeout((()=>n=!1),t))}}function rt({get:e,set:t},{get:n,set:o}){let s,a,c,u=!0,l=r((()=>{let r,i;u?(r=e(),o(JSON.parse(JSON.stringify(r))),i=n(),u=!1):(r=e(),i=n(),a=JSON.stringify(r),c=JSON.stringify(i),a!==s?(i=n(),o(r),i=r):(t(JSON.parse(c??null)),r=i)),s=JSON.stringify(r),JSON.stringify(i)}));return()=>{i(l)}}var it={},ot=!1,st={};function at(e,t,n){let r=[];for(;r.length;)r.pop()();let i=Object.entries(t).map((([e,t])=>({name:e,value:t}))),o=ye(i);return i=i.map((e=>o.find((t=>t.name===e.name))?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e)),ve(e,i,n).map((e=>{r.push(e.runCleanups),e()})),()=>{for(;r.length;)r.pop()()}}var ct={},ut={get reactive(){return n},get release(){return i},get effect(){return r},get raw(){return o},version:"3.13.1",flushAndStopDeferringMutations:function(){W=!1,V(z),z=[]},dontAutoEvaluateFunctions:ce,disableEffectScheduling:function(e){d=!1,e(),d=!0},startObservingMutations:j,stopObservingMutations:$,setReactivityEngine:function(e){n=e.reactive,i=e.release,r=t=>e.effect(t,{scheduler:e=>{d?l(e):e()}}),o=e.raw},onAttributeRemoved:M,onAttributesAdded:P,closestDataStack:q,skipDuringClone:He,onlyDuringClone:function(e){return(...t)=>Ve&&e(...t)},addRootSelector:x,addInitSelector:R,addScopeToNode:Y,deferMutations:function(){W=!0},mapAttributes:Se,evaluateLater:le,interceptInit:function(e){I.push(e)},setEvaluator:function(e){he=e},mergeProxies:X,extractProp:function(e,t,n,r=!0){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];if(e._x_inlineBindings&&void 0!==e._x_inlineBindings[t]){let n=e._x_inlineBindings[t];return n.extract=r,ce((()=>ue(e,n.expression)))}return et(e,t,n)},findClosest:N,onElRemoved:w,closestRoot:O,destroyTree:b,interceptor:ee,transition:We,setStyles:$e,mutateDom:G,directive:Ee,entangle:rt,throttle:nt,debounce:tt,evaluate:ue,initTree:S,nextTick:Ue,prefixed:_e,prefix:function(e){me=e},plugin:function(e){(Array.isArray(e)?e:[e]).forEach((e=>e(ut)))},magic:re,store:function(e,t){if(ot||(it=n(it),ot=!0),void 0===t)return it[e];it[e]=t,"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&it[e].init(),Q(it[e])},start:function(){var e;E&&g("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),E=!0,document.body||g("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),m(document,"alpine:init"),m(document,"alpine:initializing"),j(),e=e=>S(e,_),C.push(e),w((e=>b(e))),P(((e,t)=>{ve(e,t).forEach((e=>e()))})),Array.from(document.querySelectorAll(A())).filter((e=>!O(e.parentElement,!0))).forEach((e=>{S(e)})),m(document,"alpine:initialized")},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),Ve=!0,Ye=!0,qe((()=>{!function(e){let t=!1;S(e,((e,n)=>{_(e,((e,r)=>{if(t&&function(e){return T().some((t=>e.matches(t)))}(e))return r();t=!0,n(e,r)}))}))}(t)})),Ve=!1,Ye=!1},cloneNode:function(e,t){e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0)),Ve=!0,qe((()=>{S(t,((e,t)=>{t(e,(()=>{}))}))})),Ve=!1},bound:function(e,t,n){return e._x_bindings&&void 0!==e._x_bindings[t]?e._x_bindings[t]:et(e,t,n)},$data:H,walk:_,data:function(e,t){ct[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;return e instanceof Element?at(e,n()):(st[e]=n,()=>{})}};function lt(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}var ht,ft=Object.freeze({}),dt=Object.prototype.hasOwnProperty,pt=(e,t)=>dt.call(e,t),mt=Array.isArray,_t=e=>"[object Map]"===yt(e),gt=e=>"symbol"==typeof e,Et=e=>null!==e&&"object"==typeof e,vt=Object.prototype.toString,yt=e=>vt.call(e),Tt=e=>yt(e).slice(8,-1),At=e=>"string"==typeof e&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,xt=(e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})((e=>e.charAt(0).toUpperCase()+e.slice(1))),Rt=(e,t)=>e!==t&&(e==e||t==t),Ot=new WeakMap,Nt=[],It=Symbol("iterate"),St=Symbol("Map key iterate"),bt=0;function kt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var Lt=!0,Ct=[];function wt(){const e=Ct.pop();Lt=void 0===e||e}function Pt(e,t,n){if(!Lt||void 0===ht)return;let r=Ot.get(e);r||Ot.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(ht)||(i.add(ht),ht.deps.push(i),ht.options.onTrack&&ht.options.onTrack({effect:ht,target:e,type:t,key:n}))}function Mt(e,t,n,r,i,o){const s=Ot.get(e);if(!s)return;const a=new Set,c=e=>{e&&e.forEach((e=>{(e!==ht||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(c);else if("length"===n&&mt(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&c(e)}));else switch(void 0!==n&&c(s.get(n)),t){case"add":mt(e)?At(n)&&c(s.get("length")):(c(s.get(It)),_t(e)&&c(s.get(St)));break;case"delete":mt(e)||(c(s.get(It)),_t(e)&&c(s.get(St)));break;case"set":_t(e)&&c(s.get(It))}a.forEach((s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:n,type:t,newValue:r,oldValue:i,oldTarget:o}),s.options.scheduler?s.options.scheduler(s):s()}))}var Ut=lt("__proto__,__v_isRef,__isVue"),Ft=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(gt)),Dt=Kt(),jt=Kt(!0),$t=Bt();function Bt(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=xn(this);for(let t=0,i=this.length;t<i;t++)Pt(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(xn)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Ct.push(Lt),Lt=!1;const n=xn(this)[t].apply(this,e);return wt(),n}})),e}function Kt(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?t?vn:En:t?gn:_n).get(n))return n;const o=mt(n);if(!e&&o&&pt($t,r))return Reflect.get($t,r,i);const s=Reflect.get(n,r,i);return(gt(r)?Ft.has(r):Ut(r))?s:(e||Pt(n,"get",r),t?s:Rn(s)?o&&At(r)?s:s.value:Et(s)?e?Tn(s):yn(s):s)}}function Gt(e=!1){return function(t,n,r,i){let o=t[n];if(!e&&(r=xn(r),o=xn(o),!mt(t)&&Rn(o)&&!Rn(r)))return o.value=r,!0;const s=mt(t)&&At(n)?Number(n)<t.length:pt(t,n),a=Reflect.set(t,n,r,i);return t===xn(i)&&(s?Rt(r,o)&&Mt(t,"set",n,r,o):Mt(t,"add",n,r)),a}}var Wt={get:Dt,set:Gt(),deleteProperty:function(e,t){const n=pt(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Mt(e,"delete",t,void 0,r),i},has:function(e,t){const n=Reflect.has(e,t);return gt(t)&&Ft.has(t)||Pt(e,"has",t),n},ownKeys:function(e){return Pt(e,"iterate",mt(e)?"length":It),Reflect.ownKeys(e)}},zt={get:jt,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},Vt=e=>Et(e)?yn(e):e,Ht=e=>Et(e)?Tn(e):e,Yt=e=>e,qt=e=>Reflect.getPrototypeOf(e);function Xt(e,t,n=!1,r=!1){const i=xn(e=e.__v_raw),o=xn(t);t!==o&&!n&&Pt(i,"get",t),!n&&Pt(i,"get",o);const{has:s}=qt(i),a=r?Yt:n?Ht:Vt;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function Jt(e,t=!1){const n=this.__v_raw,r=xn(n),i=xn(e);return e!==i&&!t&&Pt(r,"has",e),!t&&Pt(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function Zt(e,t=!1){return e=e.__v_raw,!t&&Pt(xn(e),"iterate",It),Reflect.get(e,"size",e)}function Qt(e){e=xn(e);const t=xn(this);return qt(t).has.call(t,e)||(t.add(e),Mt(t,"add",e,e)),this}function en(e,t){t=xn(t);const n=xn(this),{has:r,get:i}=qt(n);let o=r.call(n,e);o?mn(n,r,e):(e=xn(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?Rt(t,s)&&Mt(n,"set",e,t,s):Mt(n,"add",e,t),this}function tn(e){const t=xn(this),{has:n,get:r}=qt(t);let i=n.call(t,e);i?mn(t,n,e):(e=xn(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&Mt(t,"delete",e,void 0,o),s}function nn(){const e=xn(this),t=0!==e.size,n=_t(e)?new Map(e):new Set(e),r=e.clear();return t&&Mt(e,"clear",void 0,void 0,n),r}function rn(e,t){return function(n,r){const i=this,o=i.__v_raw,s=xn(o),a=t?Yt:e?Ht:Vt;return!e&&Pt(s,"iterate",It),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function on(e,t,n){return function(...r){const i=this.__v_raw,o=xn(i),s=_t(o),a="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=i[e](...r),l=n?Yt:t?Ht:Vt;return!t&&Pt(o,"iterate",c?St:It),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:a?[l(e[0]),l(e[1])]:l(e),done:t}},[Symbol.iterator](){return this}}}}function sn(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${xt(e)} operation ${n}failed: target is readonly.`,xn(this))}return"delete"!==e&&this}}function an(){const e={get(e){return Xt(this,e)},get size(){return Zt(this)},has:Jt,add:Qt,set:en,delete:tn,clear:nn,forEach:rn(!1,!1)},t={get(e){return Xt(this,e,!1,!0)},get size(){return Zt(this)},has:Jt,add:Qt,set:en,delete:tn,clear:nn,forEach:rn(!1,!0)},n={get(e){return Xt(this,e,!0)},get size(){return Zt(this,!0)},has(e){return Jt.call(this,e,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:rn(!0,!1)},r={get(e){return Xt(this,e,!0,!0)},get size(){return Zt(this,!0)},has(e){return Jt.call(this,e,!0)},add:sn("add"),set:sn("set"),delete:sn("delete"),clear:sn("clear"),forEach:rn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=on(i,!1,!1),n[i]=on(i,!0,!1),t[i]=on(i,!1,!0),r[i]=on(i,!0,!0)})),[e,n,t,r]}var[cn,un,ln,hn]=an();function fn(e,t){const n=t?e?hn:ln:e?un:cn;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(pt(n,r)&&r in t?n:t,r,i)}var dn={get:fn(!1,!1)},pn={get:fn(!0,!1)};function mn(e,t,n){const r=xn(n);if(r!==n&&t.call(e,r)){const t=Tt(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var _n=new WeakMap,gn=new WeakMap,En=new WeakMap,vn=new WeakMap;function yn(e){return e&&e.__v_isReadonly?e:An(e,!1,Wt,dn,_n)}function Tn(e){return An(e,!0,zt,pn,En)}function An(e,t,n,r,i){if(!Et(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(Tt(a));var a;if(0===s)return e;const c=new Proxy(e,2===s?r:n);return i.set(e,c),c}function xn(e){return e&&xn(e.__v_raw)||e}function Rn(e){return Boolean(e&&!0===e.__v_isRef)}re("nextTick",(()=>Ue)),re("dispatch",(e=>m.bind(m,e))),re("watch",((e,{evaluateLater:t,effect:n})=>(r,i)=>{let o,s=t(r),a=!0,c=n((()=>s((e=>{JSON.stringify(e),a?o=e:queueMicrotask((()=>{i(e,o),o=e})),a=!1}))));e._x_effects.delete(c)})),re("store",(function(){return it})),re("data",(e=>H(e))),re("root",(e=>O(e))),re("refs",(e=>(e._x_refs_proxy||(e._x_refs_proxy=X(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy)));var On={};function Nn(e){return On[e]||(On[e]=0),++On[e]}function In(e,t,n){re(t,(r=>g(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r)))}re("id",(e=>(t,n=null)=>{let r=function(e,t){return N(e,(e=>{if(e._x_ids&&e._x_ids[t])return!0}))}(e,t),i=r?r._x_ids[t]:Nn(t);return n?`${t}-${i}-${n}`:`${t}-${i}`})),re("el",(e=>e)),In("Focus","focus","focus"),In("Persist","persist","persist"),Ee("modelable",((e,{expression:t},{effect:n,evaluateLater:r,cleanup:i})=>{let o=r(t),s=()=>{let e;return o((t=>e=t)),e},a=r(`${t} = __placeholder`),c=e=>a((()=>{}),{scope:{__placeholder:e}}),u=s();c(u),queueMicrotask((()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set,r=rt({get:()=>t(),set(e){n(e)}},{get:()=>s(),set(e){c(e)}});i(r)}))})),Ee("teleport",((e,{modifiers:t,expression:n},{cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&g("x-teleport can only be used on a <template> tag",e);let i=bn(n),o=e.content.cloneNode(!0).firstElementChild;e._x_teleport=o,o._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach((t=>{o.addEventListener(t,(t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))}))})),Y(o,{},e);let s=(e,t,n)=>{n.includes("prepend")?t.parentNode.insertBefore(e,t):n.includes("append")?t.parentNode.insertBefore(e,t.nextSibling):t.appendChild(e)};G((()=>{s(o,i,t),S(o),o._x_ignore=!0})),e._x_teleportPutBack=()=>{let r=bn(n);G((()=>{s(e._x_teleport,r,t)}))},r((()=>o.remove()))}));var Sn=document.createElement("div");function bn(e){let t=He((()=>document.querySelector(e)),(()=>Sn))();return t||g(`Cannot find x-teleport element for selector: "${e}"`),t}var kn=()=>{};function Ln(e,t,n,r){let i=e,o=e=>r(e),s={},a=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=function(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}(t)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=Cn(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=tt(o,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=Cn(e.split("ms")[0])?Number(e.split("ms")[0]):250;o=nt(o,t)}return n.includes("prevent")&&(o=a(o,((e,t)=>{t.preventDefault(),e(t)}))),n.includes("stop")&&(o=a(o,((e,t)=>{t.stopPropagation(),e(t)}))),n.includes("self")&&(o=a(o,((t,n)=>{n.target===e&&t(n)}))),(n.includes("away")||n.includes("outside"))&&(i=document,o=a(o,((t,n)=>{e.contains(n.target)||!1!==n.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n))}))),n.includes("once")&&(o=a(o,((e,n)=>{e(n),i.removeEventListener(t,o,s)}))),o=a(o,((e,r)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter((e=>!["window","document","prevent","stop","once","capture"].includes(e)));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,Cn((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let e=n.indexOf("throttle");n.splice(e,Cn((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&wn(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter((e=>n.includes(e)));return n=n.filter((e=>!r.includes(e))),!(r.length>0&&r.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===r.length&&wn(e.key).includes(n[0]))}(r,n)||e(r)})),i.addEventListener(t,o,s),()=>{i.removeEventListener(t,o,s)}}function Cn(e){return!Array.isArray(e)&&!isNaN(e)}function wn(e){if(!e)return[];var t;e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map((t=>{if(n[t]===e)return t})).filter((e=>e))}function Pn(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function Mn(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}kn.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n((()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore}))},Ee("ignore",kn),Ee("effect",((e,{expression:t},{effect:n})=>n(le(e,t)))),Ee("model",((e,{modifiers:t,expression:n},{effect:r,cleanup:i})=>{let o=e;t.includes("parent")&&(o=e.parentNode);let s,a=le(o,n);s="string"==typeof n?le(o,`${n} = __placeholder`):"function"==typeof n&&"string"==typeof n()?le(o,`${n()} = __placeholder`):()=>{};let c=()=>{let e;return a((t=>e=t)),Mn(e)?e.get():e},u=e=>{let t;a((e=>t=e)),Mn(t)?t.set(e):s((()=>{}),{scope:{__placeholder:e}})};"string"==typeof n&&"radio"===e.type&&G((()=>{e.hasAttribute("name")||e.setAttribute("name",n)}));var l="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let h=Ve?()=>{}:Ln(e,l,t,(n=>{u(function(e,t,n,r){return G((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return null!==n.detail&&void 0!==n.detail?n.detail:n.target.value;if("checkbox"===e.type){if(Array.isArray(r)){let e=t.includes("number")?Pn(n.target.value):n.target.value;return n.target.checked?r.concat([e]):r.filter((t=>!(t==e)))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map((e=>Pn(e.value||e.text))):Array.from(n.target.selectedOptions).map((e=>e.value||e.text));{let e=n.target.value;return t.includes("number")?Pn(e):t.includes("trim")?e.trim():e}}))}(e,t,n,c()))}));if(t.includes("fill")&&([null,""].includes(c())||"checkbox"===e.type&&Array.isArray(c()))&&e.dispatchEvent(new Event(l,{})),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=h,i((()=>e._x_removeModelListeners.default())),e.form){let t=Ln(e.form,"reset",[],(t=>{Ue((()=>e._x_model&&e._x_model.set(e.value)))}));i((()=>t()))}e._x_model={get:()=>c(),set(e){u(e)}},e._x_forceModelUpdate=t=>{void 0===t&&"string"==typeof n&&n.match(/\./)&&(t=""),window.fromModel=!0,G((()=>Xe(e,"value",t))),delete window.fromModel},r((()=>{let n=c();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(n)}))})),Ee("cloak",(e=>queueMicrotask((()=>G((()=>e.removeAttribute(_e("cloak")))))))),R((()=>`[${_e("init")}]`)),Ee("init",He(((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1)))),Ee("text",((e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n((()=>{i((t=>{G((()=>{e.textContent=t}))}))}))})),Ee("html",((e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n((()=>{i((t=>{G((()=>{e.innerHTML=t,e._x_ignoreSelf=!0,S(e),delete e._x_ignoreSelf}))}))}))})),Se(Oe(":",_e("bind:")));var Un=(e,{value:t,modifiers:n,expression:r,original:i},{effect:o})=>{if(!t){let t={};return s=t,Object.entries(st).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t(...e)})})),void le(e,r)((t=>{at(e,t,i)}),{scope:t})}var s;if("key"===t)return function(e,t){e._x_keyExpression=t}(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=le(e,r);o((()=>a((i=>{void 0===i&&"string"==typeof r&&r.match(/\./)&&(i=""),G((()=>Xe(e,t,i,n)))}))))};function Fn(e,t,n,r){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map((e=>e.trim())).forEach(((e,n)=>{i[e]=t[n]})):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map((e=>e.trim())).forEach((e=>{i[e]=t[e]})):i[e.item]=t,e.index&&(i[e.index]=n),e.collection&&(i[e.collection]=r),i}function Dn(){}function jn(e,t,n){Ee(t,(r=>g(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r)))}Un.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})},Ee("bind",Un),x((()=>`[${_e("data")}]`)),Ee("data",((e,{expression:t},{cleanup:r})=>{if(function(e){return!!Ve&&(!!Ye||e.hasAttribute("data-has-alpine-state"))}(e))return;t=""===t?"{}":t;let i={};ie(i,e);let o={};var s,a;s=o,a=i,Object.entries(ct).forEach((([e,t])=>{Object.defineProperty(s,e,{get:()=>(...e)=>t.bind(a)(...e),enumerable:!1})}));let c=ue(e,t,{scope:o});void 0!==c&&!0!==c||(c={}),ie(c,e);let u=n(c);Q(u);let l=Y(e,u);u.init&&ue(e,u.init),r((()=>{u.destroy&&ue(e,u.destroy),l()}))})),Ee("show",((e,{modifiers:t,expression:n},{effect:r})=>{let i=le(e,n);e._x_doHide||(e._x_doHide=()=>{G((()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)}))}),e._x_doShow||(e._x_doShow=()=>{G((()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")}))});let o,s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},c=()=>setTimeout(a),u=Be((e=>e?a():s()),(t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?c():s()})),l=!0;r((()=>i((e=>{(l||e!==o)&&(t.includes("immediate")&&(e?c():s()),u(e),o=e,l=!1)}))))})),Ee("for",((e,{expression:t},{effect:r,cleanup:i})=>{let o=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=e.match(r);if(!i)return;let o={};o.items=i[2].trim();let s=i[1].replace(n,"").trim(),a=s.match(t);return a?(o.item=s.replace(t,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}(t),s=le(e,o.items),a=le(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},r((()=>function(e,t,r,i){let o=e=>"object"==typeof e&&!Array.isArray(e),s=e;r((r=>{var a;a=r,!Array.isArray(a)&&!isNaN(a)&&r>=0&&(r=Array.from(Array(r).keys(),(e=>e+1))),void 0===r&&(r=[]);let c=e._x_lookup,u=e._x_prevKeys,l=[],f=[];if(o(r))r=Object.entries(r).map((([e,n])=>{let o=Fn(t,n,e,r);i((e=>f.push(e)),{scope:{index:e,...o}}),l.push(o)}));else for(let e=0;e<r.length;e++){let n=Fn(t,r[e],e,r);i((e=>f.push(e)),{scope:{index:e,...n}}),l.push(n)}let d=[],p=[],m=[],_=[];for(let e=0;e<u.length;e++){let t=u[e];-1===f.indexOf(t)&&m.push(t)}u=u.filter((e=>!m.includes(e)));let E="template";for(let e=0;e<f.length;e++){let t=f[e],n=u.indexOf(t);if(-1===n)u.splice(e,0,t),d.push([E,e]);else if(n!==e){let t=u.splice(e,1)[0],r=u.splice(n-1,1)[0];u.splice(e,0,r),u.splice(n,0,t),p.push([t,r])}else _.push(t);E=t}for(let e=0;e<m.length;e++){let t=m[e];c[t]._x_effects&&c[t]._x_effects.forEach(h),c[t].remove(),c[t]=null,delete c[t]}for(let e=0;e<p.length;e++){let[t,n]=p[e],r=c[t],i=c[n],o=document.createElement("div");G((()=>{i||g('x-for ":key" is undefined or invalid',s),i.after(o),r.after(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),o.before(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),o.remove()})),i._x_refreshXForScope(l[f.indexOf(n)])}for(let e=0;e<d.length;e++){let[t,r]=d[e],i="template"===t?s:c[t];i._x_currentIfEl&&(i=i._x_currentIfEl);let o=l[r],a=f[r],u=document.importNode(s.content,!0).firstElementChild,h=n(o);Y(u,h,s),u._x_refreshXForScope=e=>{Object.entries(e).forEach((([e,t])=>{h[e]=t}))},G((()=>{i.after(u),S(u)})),"object"==typeof a&&g("x-for key cannot be an object, it must be a string or an integer",s),c[a]=u}for(let e=0;e<_.length;e++)c[_[e]]._x_refreshXForScope(l[f.indexOf(_[e])]);s._x_prevKeys=f}))}(e,o,s,a))),i((()=>{Object.values(e._x_lookup).forEach((e=>e.remove())),delete e._x_prevKeys,delete e._x_lookup}))})),Dn.inline=(e,{expression:t},{cleanup:n})=>{let r=O(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n((()=>delete r._x_refs[t]))},Ee("ref",Dn),Ee("if",((e,{expression:t},{effect:n,cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&g("x-if can only be used on a <template> tag",e);let i=le(e,t);n((()=>i((t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;Y(t,{},e),G((()=>{e.after(t),S(t)})),e._x_currentIfEl=t,e._x_undoIf=()=>{_(t,(e=>{e._x_effects&&e._x_effects.forEach(h)})),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})))),r((()=>e._x_undoIf&&e._x_undoIf()))})),Ee("id",((e,{expression:t},{evaluate:n})=>{n(t).forEach((t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Nn(t))}(e,t)))})),Se(Oe("@",_e("on:"))),Ee("on",He(((e,{value:t,modifiers:n,expression:r},{cleanup:i})=>{let o=r?le(e,r):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=Ln(e,t,n,(e=>{o((()=>{}),{scope:{$event:e},params:[e]})}));i((()=>s()))}))),jn("Collapse","collapse","collapse"),jn("Intersect","intersect","intersect"),jn("Focus","trap","focus"),jn("Mask","mask","mask"),ut.setEvaluator(fe),ut.setReactivityEngine({reactive:yn,effect:function(e,t=ft){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!Nt.includes(n)){kt(n);try{return Ct.push(Lt),Lt=!0,Nt.push(n),ht=n,e()}finally{Nt.pop(),wt(),ht=Nt[Nt.length-1]}}};return n.id=bt++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n},release:function(e){e.active&&(kt(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:xn});var $n=ut;const Bn="object"==typeof global&&global&&global.Object===Object&&global;var Kn="object"==typeof self&&self&&self.Object===Object&&self;const Gn=Bn||Kn||Function("return this")(),Wn=Gn.Symbol;var zn=Object.prototype,Vn=zn.hasOwnProperty,Hn=zn.toString,Yn=Wn?Wn.toStringTag:void 0,qn=Object.prototype.toString,Xn=Wn?Wn.toStringTag:void 0;function Jn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Xn&&Xn in Object(e)?function(e){var t=Vn.call(e,Yn),n=e[Yn];try{e[Yn]=void 0;var r=!0}catch(o){}var i=Hn.call(e);return r&&(t?e[Yn]=n:delete e[Yn]),i}(e):function(e){return qn.call(e)}(e)}function Zn(e){return null!=e&&"object"==typeof e}function Qn(e){return"symbol"==typeof e||Zn(e)&&"[object Symbol]"==Jn(e)}function er(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}const tr=Array.isArray;var nr=Wn?Wn.prototype:void 0,rr=nr?nr.toString:void 0;function ir(e){if("string"==typeof e)return e;if(tr(e))return er(e,ir)+"";if(Qn(e))return rr?rr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var or=/\s/,sr=/^\s+/;function ar(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&or.test(e.charAt(t)););return t}(e)+1).replace(sr,""):e}function cr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var ur=/^[-+]0x[0-9a-f]+$/i,lr=/^0b[01]+$/i,hr=/^0o[0-7]+$/i,fr=parseInt,dr=1/0;function pr(e){return e?(e=function(e){if("number"==typeof e)return e;if(Qn(e))return NaN;if(cr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=cr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ar(e);var n=lr.test(e);return n||hr.test(e)?fr(e.slice(2),n?2:8):ur.test(e)?NaN:+e}(e))===dr||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function mr(e){var t=pr(e),n=t%1;return t==t?n?t-n:t:0}function _r(e){return e}function gr(e){if(!cr(e))return!1;var t=Jn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}const Er=Gn["__core-js_shared__"];var vr,yr=(vr=/[^.]+$/.exec(Er&&Er.keys&&Er.keys.IE_PROTO||""))?"Symbol(src)_1."+vr:"",Tr=Function.prototype.toString;function Ar(e){if(null!=e){try{return Tr.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var xr=/^\[object .+?Constructor\]$/,Rr=Function.prototype,Or=Object.prototype,Nr=Rr.toString,Ir=Or.hasOwnProperty,Sr=RegExp("^"+Nr.call(Ir).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function br(e){return!(!cr(e)||(t=e,yr&&yr in t))&&(gr(e)?Sr:xr).test(Ar(e));var t}function kr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return br(n)?n:void 0}const Lr=kr(Gn,"WeakMap");var Cr=Object.create;const wr=function(){function e(){}return function(t){if(!cr(t))return{};if(Cr)return Cr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Pr(){}var Mr=Date.now,Ur=function(){try{var e=kr(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Fr=Ur;var Dr,jr,$r,Br=Fr?function(e,t){return Fr(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:_r,Kr=(Dr=Br,jr=0,$r=0,function(){var e=Mr(),t=16-(e-$r);if($r=e,t>0){if(++jr>=800)return arguments[0]}else jr=0;return Dr.apply(void 0,arguments)});const Gr=Kr;function Wr(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function zr(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Vr(e){return e!=e}function Hr(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zr(e,Vr,n)}function Yr(e,t){return!(null==e||!e.length)&&Hr(e,t,0)>-1}var qr=/^(?:0|[1-9]\d*)$/;function Xr(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&qr.test(e))&&e>-1&&e%1==0&&e<t}function Jr(e,t,n){"__proto__"==t&&Fr?Fr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Zr(e,t){return e===t||e!=e&&t!=t}var Qr=Object.prototype.hasOwnProperty;function ei(e,t,n){var r=e[t];Qr.call(e,t)&&Zr(r,n)&&(void 0!==n||t in e)||Jr(e,t,n)}function ti(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=r?r(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),i?Jr(n,a,c):ei(n,a,c)}return n}var ni=Math.max;function ri(e,t){return Gr(function(e,t,n){return t=ni(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ni(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,_r),e+"")}function ii(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function oi(e){return null!=e&&ii(e.length)&&!gr(e)}function si(e,t,n){if(!cr(n))return!1;var r=typeof t;return!!("number"==r?oi(n)&&Xr(t,n.length):"string"==r&&t in n)&&Zr(n[t],e)}var ai=Object.prototype;function ci(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ai)}function ui(e){return Zn(e)&&"[object Arguments]"==Jn(e)}var li=Object.prototype,hi=li.hasOwnProperty,fi=li.propertyIsEnumerable,di=ui(function(){return arguments}())?ui:function(e){return Zn(e)&&hi.call(e,"callee")&&!fi.call(e,"callee")};const pi=di;var mi="object"==typeof e&&e&&!e.nodeType&&e,_i=mi&&"object"==typeof t&&t&&!t.nodeType&&t,gi=_i&&_i.exports===mi?Gn.Buffer:void 0;const Ei=(gi?gi.isBuffer:void 0)||function(){return!1};var vi={};function yi(e){return function(t){return e(t)}}vi["[object Float32Array]"]=vi["[object Float64Array]"]=vi["[object Int8Array]"]=vi["[object Int16Array]"]=vi["[object Int32Array]"]=vi["[object Uint8Array]"]=vi["[object Uint8ClampedArray]"]=vi["[object Uint16Array]"]=vi["[object Uint32Array]"]=!0,vi["[object Arguments]"]=vi["[object Array]"]=vi["[object ArrayBuffer]"]=vi["[object Boolean]"]=vi["[object DataView]"]=vi["[object Date]"]=vi["[object Error]"]=vi["[object Function]"]=vi["[object Map]"]=vi["[object Number]"]=vi["[object Object]"]=vi["[object RegExp]"]=vi["[object Set]"]=vi["[object String]"]=vi["[object WeakMap]"]=!1;var Ti="object"==typeof e&&e&&!e.nodeType&&e,Ai=Ti&&"object"==typeof t&&t&&!t.nodeType&&t,xi=Ai&&Ai.exports===Ti&&Bn.process;const Ri=function(){try{var e=Ai&&Ai.require&&Ai.require("util").types;return e||xi&&xi.binding&&xi.binding("util")}catch(t){}}();var Oi=Ri&&Ri.isTypedArray;const Ni=Oi?yi(Oi):function(e){return Zn(e)&&ii(e.length)&&!!vi[Jn(e)]};var Ii=Object.prototype.hasOwnProperty;function Si(e,t){var n=tr(e),r=!n&&pi(e),i=!n&&!r&&Ei(e),o=!n&&!r&&!i&&Ni(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!t&&!Ii.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Xr(u,c))||a.push(u);return a}function bi(e,t){return function(n){return e(t(n))}}const ki=bi(Object.keys,Object);var Li=Object.prototype.hasOwnProperty;function Ci(e){if(!ci(e))return ki(e);var t=[];for(var n in Object(e))Li.call(e,n)&&"constructor"!=n&&t.push(n);return t}function wi(e){return oi(e)?Si(e):Ci(e)}var Pi,Mi=Object.prototype.hasOwnProperty;const Ui=(Pi=function(e,t){if(ci(t)||oi(t))ti(t,wi(t),e);else for(var n in t)Mi.call(t,n)&&ei(e,n,t[n])},ri((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Pi.length>3&&"function"==typeof i?(r--,i):void 0,o&&si(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var s=t[n];s&&Pi(e,s,n,i)}return e})));var Fi=Object.prototype.hasOwnProperty;function Di(e){if(!cr(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ci(e),n=[];for(var r in e)("constructor"!=r||!t&&Fi.call(e,r))&&n.push(r);return n}function ji(e){return oi(e)?Si(e,!0):Di(e)}var $i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bi=/^\w*$/;function Ki(e,t){if(tr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qn(e))||Bi.test(e)||!$i.test(e)||null!=t&&e in Object(t)}const Gi=kr(Object,"create");var Wi=Object.prototype.hasOwnProperty,zi=Object.prototype.hasOwnProperty;function Vi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hi(e,t){for(var n=e.length;n--;)if(Zr(e[n][0],t))return n;return-1}Vi.prototype.clear=function(){this.__data__=Gi?Gi(null):{},this.size=0},Vi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vi.prototype.get=function(e){var t=this.__data__;if(Gi){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Wi.call(t,e)?t[e]:void 0},Vi.prototype.has=function(e){var t=this.__data__;return Gi?void 0!==t[e]:zi.call(t,e)},Vi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gi&&void 0===t?"__lodash_hash_undefined__":t,this};var Yi=Array.prototype.splice;function qi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qi.prototype.clear=function(){this.__data__=[],this.size=0},qi.prototype.delete=function(e){var t=this.__data__,n=Hi(t,e);return!(n<0||(n==t.length-1?t.pop():Yi.call(t,n,1),--this.size,0))},qi.prototype.get=function(e){var t=this.__data__,n=Hi(t,e);return n<0?void 0:t[n][1]},qi.prototype.has=function(e){return Hi(this.__data__,e)>-1},qi.prototype.set=function(e,t){var n=this.__data__,r=Hi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const Xi=kr(Gn,"Map");function Ji(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Zi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Qi.Cache||Zi),n}Zi.prototype.clear=function(){this.size=0,this.__data__={hash:new Vi,map:new(Xi||qi),string:new Vi}},Zi.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Zi.prototype.get=function(e){return Ji(this,e).get(e)},Zi.prototype.has=function(e){return Ji(this,e).has(e)},Zi.prototype.set=function(e,t){var n=Ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qi.Cache=Zi;var eo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/\\(\\)?/g,no=function(e){var t=Qi(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(eo,(function(e,n,r,i){t.push(r?i.replace(to,"$1"):n||e)})),t}));const ro=no;function io(e,t){return tr(e)?e:Ki(e,t)?[e]:ro(function(e){return null==e?"":ir(e)}(e))}function oo(e){if("string"==typeof e||Qn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function so(e,t){for(var n=0,r=(t=io(t,e)).length;null!=e&&n<r;)e=e[oo(t[n++])];return n&&n==r?e:void 0}function ao(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var co=Wn?Wn.isConcatSpreadable:void 0;function uo(e){return tr(e)||pi(e)||!!(co&&e&&e[co])}function lo(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=uo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?lo(a,t-1,n,r,i):ao(i,a):r||(i[i.length]=a)}return i}function ho(e){return null!=e&&e.length?lo(e,1):[]}const fo=bi(Object.getPrototypeOf,Object);function po(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function mo(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function _o(e){var t=this.__data__=new qi(e);this.size=t.size}_o.prototype.clear=function(){this.__data__=new qi,this.size=0},_o.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_o.prototype.get=function(e){return this.__data__.get(e)},_o.prototype.has=function(e){return this.__data__.has(e)},_o.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qi){var r=n.__data__;if(!Xi||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Zi(r)}return n.set(e,t),this.size=n.size,this};var go="object"==typeof e&&e&&!e.nodeType&&e,Eo=go&&"object"==typeof t&&t&&!t.nodeType&&t,vo=Eo&&Eo.exports===go?Gn.Buffer:void 0,yo=vo?vo.allocUnsafe:void 0;function To(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ao(){return[]}var xo=Object.prototype.propertyIsEnumerable,Ro=Object.getOwnPropertySymbols;const Oo=Ro?function(e){return null==e?[]:(e=Object(e),To(Ro(e),(function(t){return xo.call(e,t)})))}:Ao,No=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ao(t,Oo(e)),e=fo(e);return t}:Ao;function Io(e,t,n){var r=t(e);return tr(e)?r:ao(r,n(e))}function So(e){return Io(e,wi,Oo)}function bo(e){return Io(e,ji,No)}const ko=kr(Gn,"DataView"),Lo=kr(Gn,"Promise"),Co=kr(Gn,"Set");var wo="[object Map]",Po="[object Promise]",Mo="[object Set]",Uo="[object WeakMap]",Fo="[object DataView]",Do=Ar(ko),jo=Ar(Xi),$o=Ar(Lo),Bo=Ar(Co),Ko=Ar(Lr),Go=Jn;(ko&&Go(new ko(new ArrayBuffer(1)))!=Fo||Xi&&Go(new Xi)!=wo||Lo&&Go(Lo.resolve())!=Po||Co&&Go(new Co)!=Mo||Lr&&Go(new Lr)!=Uo)&&(Go=function(e){var t=Jn(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ar(n):"";if(r)switch(r){case Do:return Fo;case jo:return wo;case $o:return Po;case Bo:return Mo;case Ko:return Uo}return t});const Wo=Go;var zo=Object.prototype.hasOwnProperty;const Vo=Gn.Uint8Array;function Ho(e){var t=new e.constructor(e.byteLength);return new Vo(t).set(new Vo(e)),t}var Yo=/\w*$/,qo=Wn?Wn.prototype:void 0,Xo=qo?qo.valueOf:void 0;function Jo(e,t,n){var r,i,o,s=e.constructor;switch(t){case"[object ArrayBuffer]":return Ho(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return function(e,t){var n=t?Ho(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?Ho(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,Yo.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=e,Xo?Object(Xo.call(r)):{}}}var Zo=Ri&&Ri.isMap;const Qo=Zo?yi(Zo):function(e){return Zn(e)&&"[object Map]"==Wo(e)};var es=Ri&&Ri.isSet;const ts=es?yi(es):function(e){return Zn(e)&&"[object Set]"==Wo(e)};var ns="[object Arguments]",rs="[object Function]",is="[object Object]",os={};function ss(e,t,n,r,i,o){var s,a=1&t,c=2&t,u=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!cr(e))return e;var l=tr(e);if(l){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&zo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,s)}else{var h=Wo(e),f=h==rs||"[object GeneratorFunction]"==h;if(Ei(e))return function(e,t){if(t)return e.slice();var n=e.length,r=yo?yo(n):new e.constructor(n);return e.copy(r),r}(e,a);if(h==is||h==ns||f&&!i){if(s=c||f?{}:function(e){return"function"!=typeof e.constructor||ci(e)?{}:wr(fo(e))}(e),!a)return c?function(e,t){return ti(e,No(e),t)}(e,function(e,t){return e&&ti(t,ji(t),e)}(s,e)):function(e,t){return ti(e,Oo(e),t)}(e,function(e,t){return e&&ti(t,wi(t),e)}(s,e))}else{if(!os[h])return i?e:{};s=Jo(e,h,a)}}o||(o=new _o);var d=o.get(e);if(d)return d;o.set(e,s),ts(e)?e.forEach((function(r){s.add(ss(r,t,n,r,e,o))})):Qo(e)&&e.forEach((function(r,i){s.set(i,ss(r,t,n,i,e,o))}));var p=l?void 0:(u?c?bo:So:c?ji:wi)(e);return Wr(p||e,(function(r,i){p&&(r=e[i=r]),ei(s,i,ss(r,t,n,i,e,o))})),s}function as(e){return ss(e,4)}function cs(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function us(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Zi;++t<n;)this.add(e[t])}function ls(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function hs(e,t){return e.has(t)}function fs(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var h=-1,f=!0,d=2&n?new us:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var _=s?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==_){if(_)continue;f=!1;break}if(d){if(!ls(t,(function(e,t){if(!hs(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){f=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function ds(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ps(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}os[ns]=os["[object Array]"]=os["[object ArrayBuffer]"]=os["[object DataView]"]=os["[object Boolean]"]=os["[object Date]"]=os["[object Float32Array]"]=os["[object Float64Array]"]=os["[object Int8Array]"]=os["[object Int16Array]"]=os["[object Int32Array]"]=os["[object Map]"]=os["[object Number]"]=os[is]=os["[object RegExp]"]=os["[object Set]"]=os["[object String]"]=os["[object Symbol]"]=os["[object Uint8Array]"]=os["[object Uint8ClampedArray]"]=os["[object Uint16Array]"]=os["[object Uint32Array]"]=!0,os["[object Error]"]=os[rs]=os["[object WeakMap]"]=!1,us.prototype.add=us.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},us.prototype.has=function(e){return this.__data__.has(e)};var ms,_s=Wn?Wn.prototype:void 0,gs=_s?_s.valueOf:void 0,Es=Object.prototype.hasOwnProperty,vs="[object Arguments]",ys="[object Array]",Ts="[object Object]",As=Object.prototype.hasOwnProperty;function xs(e,t,n,r,i,o){var s=tr(e),a=tr(t),c=s?ys:Wo(e),u=a?ys:Wo(t),l=(c=c==vs?Ts:c)==Ts,h=(u=u==vs?Ts:u)==Ts,f=c==u;if(f&&Ei(e)){if(!Ei(t))return!1;s=!0,l=!1}if(f&&!l)return o||(o=new _o),s||Ni(e)?fs(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Vo(e),new Vo(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Zr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=ds;case"[object Set]":var c=1&r;if(a||(a=ps),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var l=fs(a(e),a(t),r,i,o,s);return s.delete(e),l;case"[object Symbol]":if(gs)return gs.call(e)==gs.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var d=l&&As.call(e,"__wrapped__"),p=h&&As.call(t,"__wrapped__");if(d||p){var m=d?e.value():e,_=p?t.value():t;return o||(o=new _o),i(m,_,n,r,o)}}return!!f&&(o||(o=new _o),function(e,t,n,r,i,o){var s=1&n,a=So(e),c=a.length;if(c!=So(t).length&&!s)return!1;for(var u=c;u--;){var l=a[u];if(!(s?l in t:Es.call(t,l)))return!1}var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=s;++u<c;){var m=e[l=a[u]],_=t[l];if(r)var g=s?r(_,m,l,t,e,o):r(m,_,l,e,t,o);if(!(void 0===g?m===_||i(m,_,n,r,o):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var E=e.constructor,v=t.constructor;E==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof v&&v instanceof v||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o))}function Rs(e,t,n,r,i){return e===t||(null==e||null==t||!Zn(e)&&!Zn(t)?e!=e&&t!=t:xs(e,t,n,r,Rs,i))}function Os(e){return e==e&&!cr(e)}function Ns(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function Is(e){var t=function(e){for(var t=wi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Os(i)]}return t}(e);return 1==t.length&&t[0][2]?Ns(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],u=e[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in e))return!1}else{var h=new _o;if(r)var f=r(u,l,c,e,t,h);if(!(void 0===f?Rs(l,u,3,r,h):f))return!1}}return!0}(n,e,t)}}function Ss(e,t){return null!=e&&t in Object(e)}function bs(e,t,n){for(var r=-1,i=(t=io(t,e)).length,o=!1;++r<i;){var s=oo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ii(i)&&Xr(s,i)&&(tr(e)||pi(e))}function ks(e,t){return Ki(e)&&Os(t)?Ns(oo(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:so(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&bs(e,t,Ss)}(n,e):Rs(t,r,3)}}function Ls(e){return Ki(e)?(t=oo(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return so(t,e)}}(e);var t}function Cs(e){return"function"==typeof e?e:null==e?_r:"object"==typeof e?tr(e)?ks(e[0],e[1]):Is(e):Ls(e)}function ws(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}const Ps=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[ms?s:++r];if(!1===t(i[a],a,i))break}return e};var Ms=function(e,t){return function(n,r){if(null==n)return n;if(!oi(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}((function(e,t){return e&&Ps(e,t,wi)}));const Us=Ms;function Fs(e,t,n,r){return Us(e,(function(e,i,o){t(r,e,n(e),o)})),r}var Ds=Object.prototype,js=Ds.hasOwnProperty;const $s=ri((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&si(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=ji(o),a=-1,c=s.length;++a<c;){var u=s[a],l=e[u];(void 0===l||Zr(l,Ds[u])&&!js.call(e,u))&&(e[u]=o[u])}return e}));function Bs(e){return Zn(e)&&oi(e)}function Ks(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}const Gs=ri((function(e,t){return Bs(e)?function(e,t,n,r){var i=-1,o=Yr,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=er(t,yi(n))),r?(o=Ks,s=!1):t.length>=200&&(o=hs,s=!1,t=new us(t));e:for(;++i<a;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var f=u;f--;)if(t[f]===h)continue e;c.push(l)}else o(t,h,r)||c.push(l)}return c}(e,lo(t,1,Bs,!0)):[]}));function Ws(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function zs(e,t,n){var r=null==e?0:e.length;return r?po(e,(t=n||void 0===t?1:mr(t))<0?0:t,r):[]}function Vs(e,t,n){var r=null==e?0:e.length;return r?po(e,0,(t=r-(t=n||void 0===t?1:mr(t)))<0?0:t):[]}function Hs(e,t){var n;return(tr(e)?Wr:Us)(e,"function"==typeof(n=t)?n:_r)}function Ys(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function qs(e,t){var n=!0;return Us(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Xs(e,t,n){var r=tr(e)?Ys:qs;return n&&si(e,t,n)&&(t=void 0),r(e,Cs(t))}function Js(e,t){var n=[];return Us(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Zs(e,t){return(tr(e)?To:Js)(e,Cs(t))}var Qs,ea=Math.max;const ta=(Qs=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mr(n);return i<0&&(i=ea(r+i,0)),zr(e,Cs(t),i)},function(e,t,n){var r=Object(e);if(!oi(e)){var i=Cs(t);e=wi(e),t=function(e){return i(r[e],e,r)}}var o=Qs(e,t,n);return o>-1?r[i?e[o]:o]:void 0});function na(e){return e&&e.length?e[0]:void 0}function ra(e,t){var n=-1,r=oi(e)?Array(e.length):[];return Us(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function ia(e,t){return(tr(e)?er:ra)(e,Cs(t))}function oa(e,t){return lo(ia(e,t),1)}var sa,aa,ca=Object.prototype.hasOwnProperty,ua=(sa=function(e,t,n){ca.call(e,n)?e[n].push(t):Jr(e,n,[t])},function(e,t){var n=tr(e)?ws:Fs,r=aa?aa():{};return n(e,sa,Cs(t),r)});const la=ua;var ha=Object.prototype.hasOwnProperty;function fa(e,t){return null!=e&&ha.call(e,t)}function da(e,t){return null!=e&&bs(e,t,fa)}function pa(e){return"string"==typeof e||!tr(e)&&Zn(e)&&"[object String]"==Jn(e)}function ma(e){return null==e?[]:function(e,t){return er(t,(function(t){return e[t]}))}(e,wi(e))}var _a=Math.max;function ga(e,t,n,r){e=oi(e)?e:ma(e),n=n&&!r?mr(n):0;var i=e.length;return n<0&&(n=_a(i+n,0)),pa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Hr(e,t,n)>-1}var Ea=Math.max;function va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mr(n);return i<0&&(i=Ea(r+i,0)),Hr(e,t,i)}var ya=Object.prototype.hasOwnProperty;function Ta(e){if(null==e)return!0;if(oi(e)&&(tr(e)||"string"==typeof e||"function"==typeof e.splice||Ei(e)||Ni(e)||pi(e)))return!e.length;var t=Wo(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ci(e))return!Ci(e).length;for(var n in e)if(ya.call(e,n))return!1;return!0}var Aa=Ri&&Ri.isRegExp;const xa=Aa?yi(Aa):function(e){return Zn(e)&&"[object RegExp]"==Jn(e)};function Ra(e){return void 0===e}function Oa(e,t,n,r){if(!cr(e))return e;for(var i=-1,o=(t=io(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=oo(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var l=a[c];void 0===(u=r?r(l,c,a):void 0)&&(u=cr(l)?l:Xr(t[i+1])?[]:{})}ei(a,c,u),a=a[c]}return e}function Na(e,t){if(null==e)return{};var n=er(bo(e),(function(e){return[e]}));return t=Cs(t),function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=so(e,s);n(a,s)&&Oa(o,io(s,e),a)}return o}(e,n,(function(e,n){return t(e,n[0])}))}function Ia(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Sa(e,t,n){var r=tr(e)?mo:Ia,i=arguments.length<3;return r(e,Cs(t),n,i,Us)}function ba(e,t){return(tr(e)?To:Js)(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(Cs(t)))}function ka(e,t){var n;return Us(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function La(e,t,n){var r=tr(e)?ls:ka;return n&&si(e,t,n)&&(t=void 0),r(e,Cs(t))}const Ca=Co&&1/ps(new Co([,-0]))[1]==1/0?function(e){return new Co(e)}:Pr;function wa(e){return e&&e.length?function(e,t,n){var r=-1,i=Yr,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Ks;else if(o>=200){var u=t?null:Ca(e);if(u)return ps(u);s=!1,i=hs,c=new us}else c=t?[]:a;e:for(;++r<o;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}(e):[]}function Pa(e){console&&console.error&&console.error(`Error: ${e}`)}function Ma(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function Ua(e){const t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function Fa(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}return r(),r(),e}function Da(e){return pa((t=e).LABEL)&&""!==t.LABEL?e.LABEL:e.name;var t}class ja{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Hs(this.definition,(t=>{t.accept(e)}))}}class $a extends ja{constructor(e){super([]),this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class Ba extends ja{constructor(e){super(e.definition),this.orgText="",Ui(this,Na(e,(e=>void 0!==e)))}}class Ka extends ja{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Ui(this,Na(e,(e=>void 0!==e)))}}class Ga extends ja{constructor(e){super(e.definition),this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}}class Wa extends ja{constructor(e){super(e.definition),this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}}class za extends ja{constructor(e){super(e.definition),this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}}class Va extends ja{constructor(e){super(e.definition),this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}}class Ha extends ja{constructor(e){super(e.definition),this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}}class Ya extends ja{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ui(this,Na(e,(e=>void 0!==e)))}}class qa{constructor(e){this.idx=1,Ui(this,Na(e,(e=>void 0!==e)))}accept(e){e.visit(this)}}function Xa(e){function t(e){return ia(e,Xa)}if(e instanceof $a){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return pa(e.label)&&(t.label=e.label),t}if(e instanceof Ka)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ga)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Wa)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof za)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Xa(new qa({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ha)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Xa(new qa({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Va)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Ya)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof qa){const t={type:"Terminal",name:e.terminalType.name,label:Da(e.terminalType),idx:e.idx};pa(e.label)&&(t.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=xa(n)?n.source:n),t}if(e instanceof Ba)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class Ja{visit(e){const t=e;switch(t.constructor){case $a:return this.visitNonTerminal(t);case Ka:return this.visitAlternative(t);case Ga:return this.visitOption(t);case Wa:return this.visitRepetitionMandatory(t);case za:return this.visitRepetitionMandatoryWithSeparator(t);case Ha:return this.visitRepetitionWithSeparator(t);case Va:return this.visitRepetition(t);case Ya:return this.visitAlternation(t);case qa:return this.visitTerminal(t);case Ba:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function Za(e,t=[]){return!!(e instanceof Ga||e instanceof Va||e instanceof Ha)||(e instanceof Ya?La(e.definition,(e=>Za(e,t))):!(e instanceof $a&&ga(t,e))&&e instanceof ja&&(e instanceof $a&&t.push(e),Xs(e.definition,(e=>Za(e,t)))))}function Qa(e){if(e instanceof $a)return"SUBRULE";if(e instanceof Ga)return"OPTION";if(e instanceof Ya)return"OR";if(e instanceof Wa)return"AT_LEAST_ONE";if(e instanceof za)return"AT_LEAST_ONE_SEP";if(e instanceof Ha)return"MANY_SEP";if(e instanceof Va)return"MANY";if(e instanceof qa)return"CONSUME";throw Error("non exhaustive match")}class ec{walk(e,t=[]){Hs(e.definition,((n,r)=>{const i=zs(e.definition,r+1);if(n instanceof $a)this.walkProdRef(n,i,t);else if(n instanceof qa)this.walkTerminal(n,i,t);else if(n instanceof Ka)this.walkFlat(n,i,t);else if(n instanceof Ga)this.walkOption(n,i,t);else if(n instanceof Wa)this.walkAtLeastOne(n,i,t);else if(n instanceof za)this.walkAtLeastOneSep(n,i,t);else if(n instanceof Ha)this.walkManySep(n,i,t);else if(n instanceof Va)this.walkMany(n,i,t);else{if(!(n instanceof Ya))throw Error("non exhaustive match");this.walkOr(n,i,t)}}))}walkTerminal(e,t,n){}walkProdRef(e,t,n){}walkFlat(e,t,n){const r=t.concat(n);this.walk(e,r)}walkOption(e,t,n){const r=t.concat(n);this.walk(e,r)}walkAtLeastOne(e,t,n){const r=[new Ga({definition:e.definition})].concat(t,n);this.walk(e,r)}walkAtLeastOneSep(e,t,n){const r=tc(e,t,n);this.walk(e,r)}walkMany(e,t,n){const r=[new Ga({definition:e.definition})].concat(t,n);this.walk(e,r)}walkManySep(e,t,n){const r=tc(e,t,n);this.walk(e,r)}walkOr(e,t,n){const r=t.concat(n);Hs(e.definition,(e=>{const t=new Ka({definition:[e]});this.walk(t,r)}))}}function tc(e,t,n){return[new Ga({definition:[new qa({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}function nc(e){if(e instanceof $a)return nc(e.referencedRule);if(e instanceof qa)return[e.terminalType];if(function(e){return e instanceof Ka||e instanceof Ga||e instanceof Va||e instanceof Wa||e instanceof za||e instanceof Ha||e instanceof qa||e instanceof Ba}(e))return function(e){let t=[];const n=e.definition;let r,i=0,o=n.length>i,s=!0;for(;o&&s;)r=n[i],s=Za(r),t=t.concat(nc(r)),i+=1,o=n.length>i;return wa(t)}(e);if(function(e){return e instanceof Ya}(e))return function(e){const t=ia(e.definition,(e=>nc(e)));return wa(ho(t))}(e);throw Error("non exhaustive match")}const rc="_~IN~_";class ic extends ec{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,n){}walkProdRef(e,t,n){const r=(i=e.referencedRule,o=e.idx,i.name+o+rc+this.topProd.name);var i,o;const s=t.concat(n),a=nc(new Ka({definition:s}));this.follows[r]=a}}function oc(e){return e.charCodeAt(0)}function sc(e,t){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)}function ac(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function cc(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function uc(e){return"Character"===e.type}const lc=[];for(let gh=oc("0");gh<=oc("9");gh++)lc.push(gh);const hc=[oc("_")].concat(lc);for(let gh=oc("a");gh<=oc("z");gh++)hc.push(gh);for(let gh=oc("A");gh<=oc("Z");gh++)hc.push(gh);const fc=[oc(" "),oc("\f"),oc("\n"),oc("\r"),oc("\t"),oc("\v"),oc("\t"),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc(""),oc("\u2028"),oc("\u2029"),oc(""),oc(""),oc(""),oc("\ufeff")],dc=/[0-9a-fA-F]/,pc=/[0-9]/,mc=/[1-9]/;class _c{visitChildren(e){for(const t in e){const n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((e=>{this.visit(e)}),this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let gc={};const Ec=new class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":ac(n,"global");break;case"i":ac(n,"ignoreCase");break;case"m":ac(n,"multiLine");break;case"u":ac(n,"unicode");break;case"y":ac(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}cc(t);const n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return function(){throw Error("Internal Error - Should never get here!")}()}quantifier(e=!1){let t;const n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:n,atMost:e}):t={atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;cc(t)}if(!0!==e||void 0!==t)return cc(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),cc(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[oc("\n"),oc("\r"),oc("\u2028"),oc("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=lc;break;case"D":e=lc,t=!0;break;case"s":e=fc;break;case"S":e=fc,t=!0;break;case"w":e=hc;break;case"W":e=hc,t=!0}if(cc(e))return{type:"Set",value:e,complement:t}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=oc("\f");break;case"n":e=oc("\n");break;case"r":e=oc("\r");break;case"t":e=oc("\t");break;case"v":e=oc("\v")}if(cc(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:oc("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:oc(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:oc(this.popChar())}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const t=this.classAtom();if(t.type,uc(t)&&this.isRangeDash()){this.consumeChar("-");const n=this.classAtom();if(n.type,uc(n)){if(n.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:n.value})}else sc(t.value,e),e.push(oc("-")),sc(n.value,e)}else sc(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:oc("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(!1===mc.test(e))throw Error("Expecting a positive integer");for(;pc.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===pc.test(e))throw Error("Expecting an integer");for(;pc.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:oc(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return pc.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){const e=this.popChar();if(!1===dc.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}};function vc(e){const t=e.toString();if(gc.hasOwnProperty(t))return gc[t];{const e=Ec.pattern(t);return gc[t]=e,e}}const yc="Complement Sets are not supported for first char optimization",Tc='Unable to use "first char" lexer optimizations:\n';function Ac(e,t=!1){try{const t=vc(e);return xc(t.value,{},t.flags.ignoreCase)}catch(n){if(n.message===yc)t&&Ma(`${Tc}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Pa(`${Tc}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function xc(e,t,n){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)xc(e.value[i],t,n);break;case"Alternative":const r=e.value;for(let e=0;e<r.length;e++){const i=r[e];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=i;switch(o.type){case"Character":Rc(o.value,t,n);break;case"Set":if(!0===o.complement)throw Error(yc);Hs(o.value,(e=>{if("number"==typeof e)Rc(e,t,n);else{const r=e;if(!0===n)for(let e=r.from;e<=r.to;e++)Rc(e,t,n);else{for(let e=r.from;e<=r.to&&e<Vc;e++)Rc(e,t,n);if(r.to>=Vc){const e=r.from>=Vc?r.from:Vc,n=r.to,i=Yc(e),o=Yc(n);for(let r=i;r<=o;r++)t[r]=r}}}}));break;case"Group":xc(o.value,t,n);break;default:throw Error("Non Exhaustive Match")}const s=void 0!==o.quantifier&&0===o.quantifier.atLeast;if("Group"===o.type&&!1===Nc(o)||"Group"!==o.type&&!1===s)break}break;default:throw Error("non exhaustive match!")}return ma(t)}function Rc(e,t,n){const r=Yc(e);t[r]=r,!0===n&&function(e,t){const n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){const e=Yc(r.charCodeAt(0));t[e]=e}else{const e=n.toLowerCase();if(e!==n){const n=Yc(e.charCodeAt(0));t[n]=n}}}(e,t)}function Oc(e,t){return ta(e.value,(e=>{if("number"==typeof e)return ga(t,e);{const n=e;return void 0!==ta(t,(e=>n.from<=e&&e<=n.to))}}))}function Nc(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(tr(e.value)?Xs(e.value,Nc):Nc(e.value))}class Ic extends _c{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){ga(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Oc(e,this.targetCharCodes)&&(this.found=!0):void 0!==Oc(e,this.targetCharCodes)&&(this.found=!0)}}function Sc(e,t){if(t instanceof RegExp){const n=vc(t),r=new Ic(e);return r.visit(n),r.found}return void 0!==ta(t,(t=>ga(e,t.charCodeAt(0))))}const bc="PATTERN",kc="defaultMode",Lc="modes";let Cc="boolean"==typeof new RegExp("(?:)").sticky;function wc(e,t){const n=(t=$s(t,{useSticky:Cc,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;let r;n("initCharCodeToOptimizedIndexMap",(()=>{!function(){if(Ta(Hc)){Hc=new Array(65536);for(let e=0;e<65536;e++)Hc[e]=e>255?255+~~(e/255):e}}()})),n("Reject Lexer.NA",(()=>{r=ba(e,(e=>e[bc]===cu.NA))}));let i,o,s,a,c,u,l,h,f,d,p,m=!1;n("Transform Patterns",(()=>{m=!1,i=ia(r,(e=>{const n=e[bc];if(xa(n)){const e=n.source;return 1!==e.length||"^"===e||"$"===e||"."===e||n.ignoreCase?2!==e.length||"\\"!==e[0]||ga(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?Dc(n):Fc(n):e[1]:e}if(gr(n))return m=!0,{exec:n};if("object"==typeof n)return m=!0,n;if("string"==typeof n){if(1===n.length)return n;{const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=new RegExp(e);return t.useSticky?Dc(r):Fc(r)}}throw Error("non exhaustive match")}))})),n("misc mapping",(()=>{o=ia(r,(e=>e.tokenTypeIdx)),s=ia(r,(e=>{const t=e.GROUP;if(t!==cu.SKIPPED){if(pa(t))return t;if(Ra(t))return!1;throw Error("non exhaustive match")}})),a=ia(r,(e=>{const t=e.LONGER_ALT;if(t)return tr(t)?ia(t,(e=>va(r,e))):[va(r,t)]})),c=ia(r,(e=>e.PUSH_MODE)),u=ia(r,(e=>da(e,"POP_MODE")))})),n("Line Terminator Handling",(()=>{const e=Wc(t.lineTerminatorCharacters);l=ia(r,(e=>!1)),"onlyOffset"!==t.positionTracking&&(l=ia(r,(t=>da(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===Gc(t,e)&&Sc(e,t.PATTERN))))})),n("Misc Mapping #2",(()=>{h=ia(r,$c),f=ia(i,Bc),d=Sa(r,((e,t)=>{const n=t.GROUP;return pa(n)&&n!==cu.SKIPPED&&(e[n]=[]),e}),{}),p=ia(i,((e,t)=>({pattern:i[t],longerAlt:a[t],canLineTerminator:l[t],isCustom:h[t],short:f[t],group:s[t],push:c[t],pop:u[t],tokenTypeIdx:o[t],tokenType:r[t]})))}));let _=!0,g=[];return t.safeMode||n("First Char Optimization",(()=>{g=Sa(r,((e,n,r)=>{if("string"==typeof n.PATTERN){const t=Yc(n.PATTERN.charCodeAt(0));zc(e,t,p[r])}else if(tr(n.START_CHARS_HINT)){let t;Hs(n.START_CHARS_HINT,(n=>{const i=Yc("string"==typeof n?n.charCodeAt(0):n);t!==i&&(t=i,zc(e,i,p[r]))}))}else if(xa(n.PATTERN))if(n.PATTERN.unicode)_=!1,t.ensureOptimizations&&Pa(`${Tc}\tUnable to analyze < ${n.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const i=Ac(n.PATTERN,t.ensureOptimizations);Ta(i)&&(_=!1),Hs(i,(t=>{zc(e,t,p[r])}))}else t.ensureOptimizations&&Pa(`${Tc}\tTokenType: <${n.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),_=!1;return e}),[])})),{emptyGroups:d,patternIdxToConfig:p,charCodeToPatternIdxToConfig:g,hasCustom:m,canBeOptimized:_}}function Pc(e,t){let n=[];const r=function(e){const t=Zs(e,(e=>!da(e,bc))),n=ia(t,(e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:ou.MISSING_PATTERN,tokenTypes:[e]}))),r=Gs(e,t);return{errors:n,valid:r}}(e);n=n.concat(r.errors);const i=function(e){const t=Zs(e,(e=>{const t=e[bc];return!(xa(t)||gr(t)||da(t,"exec")||pa(t))})),n=ia(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ou.INVALID_PATTERN,tokenTypes:[e]}))),r=Gs(e,t);return{errors:n,valid:r}}(r.valid),o=i.valid;return n=n.concat(i.errors),n=n.concat(function(e){let t=[];const n=Zs(e,(e=>xa(e[bc])));return t=t.concat(function(e){class t extends _c{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}const n=Zs(e,(e=>{const n=e.PATTERN;try{const e=vc(n),r=new t;return r.visit(e),r.found}catch(r){return Mc.test(n.source)}})),r=ia(n,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ou.EOI_ANCHOR_FOUND,tokenTypes:[e]})));return r}(n)),t=t.concat(function(e){class t extends _c{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}const n=Zs(e,(e=>{const n=e.PATTERN;try{const e=vc(n),r=new t;return r.visit(e),r.found}catch(r){return Uc.test(n.source)}})),r=ia(n,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ou.SOI_ANCHOR_FOUND,tokenTypes:[e]})));return r}(n)),t=t.concat(function(e){const t=Zs(e,(e=>{const t=e[bc];return t instanceof RegExp&&(t.multiline||t.global)})),n=ia(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ou.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]})));return n}(n)),t=t.concat(function(e){const t=[];let n=ia(e,(n=>Sa(e,((e,r)=>(n.PATTERN.source!==r.PATTERN.source||ga(t,r)||r.PATTERN===cu.NA||(t.push(r),e.push(r)),e)),[])));n=cs(n);const r=ia(Zs(n,(e=>e.length>1)),(e=>{const t=ia(e,(e=>e.name));return{message:`The same RegExp pattern ->${na(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:ou.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}));return r}(n)),t=t.concat(function(e){const t=Zs(e,(e=>e.PATTERN.test(""))),n=ia(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:ou.EMPTY_MATCH_PATTERN,tokenTypes:[e]})));return n}(n)),t}(o)),n=n.concat(function(e){const t=Zs(e,(e=>{if(!da(e,"GROUP"))return!1;const t=e.GROUP;return t!==cu.SKIPPED&&t!==cu.NA&&!pa(t)})),n=ia(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ou.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]})));return n}(o)),n=n.concat(function(e,t){const n=Zs(e,(e=>void 0!==e.PUSH_MODE&&!ga(t,e.PUSH_MODE))),r=ia(n,(e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:ou.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]})));return r}(o,t)),n=n.concat(function(e){const t=[],n=Sa(e,((e,t,n)=>{const r=t.PATTERN;return r===cu.NA||(pa(r)?e.push({str:r,idx:n,tokenType:t}):xa(r)&&(i=r,void 0===ta([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(e=>-1!==i.source.indexOf(e))))&&e.push({str:r.source,idx:n,tokenType:t})),e;var i}),[]);return Hs(e,((e,r)=>{Hs(n,(({str:n,idx:i,tokenType:o})=>{if(r<i&&function(e,t){if(xa(t)){const n=t.exec(e);return null!==n&&0===n.index}if(gr(t))return t(e,0,[],{});if(da(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(n,e.PATTERN)){const n=`Token: ->${o.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:n,type:ou.UNREACHABLE_PATTERN,tokenTypes:[e,o]})}}))})),t}(o)),n}const Mc=/[^\\][$]/,Uc=/[^\\[][\^]|^\^/;function Fc(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Dc(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function jc(e,t,n){const r=[];let i=!1;const o=ba(cs(ho(ma(e.modes))),(e=>e[bc]===cu.NA)),s=Wc(n);return t&&Hs(o,(e=>{const t=Gc(e,s);if(!1!==t){const n=function(e,t){if(t.issue===ou.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ou.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),i={message:n,type:t.issue,tokenType:e};r.push(i)}else da(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):Sc(s,e.PATTERN)&&(i=!0)})),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:ou.NO_LINE_BREAKS_FLAGS}),r}function $c(e){const t=e.PATTERN;if(xa(t))return!1;if(gr(t))return!0;if(da(t,"exec"))return!0;if(pa(t))return!1;throw Error("non exhaustive match")}function Bc(e){return!(!pa(e)||1!==e.length)&&e.charCodeAt(0)}const Kc={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const t=e.charCodeAt(n);if(10===t)return this.lastIndex=n+1,!0;if(13===t)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function Gc(e,t){if(da(e,"LINE_BREAKS"))return!1;if(xa(e.PATTERN)){try{Sc(t,e.PATTERN)}catch(n){return{issue:ou.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if(pa(e.PATTERN))return!1;if($c(e))return{issue:ou.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Wc(e){return ia(e,(e=>pa(e)?e.charCodeAt(0):e))}function zc(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}const Vc=256;let Hc=[];function Yc(e){return e<Vc?e:Hc[e]}function qc(e,t){const n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function Xc(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let Jc=1;const Zc={};function Qc(e){const t=function(e){let t=as(e),n=e,r=!0;for(;r;){n=cs(ho(ia(n,(e=>e.CATEGORIES))));const e=Gs(n,t);t=t.concat(e),Ta(e)?r=!1:n=e}return t}(e);!function(e){Hs(e,(e=>{tu(e)||(Zc[Jc]=e,e.tokenTypeIdx=Jc++),nu(e)&&!tr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),nu(e)||(e.CATEGORIES=[]),da(e,"categoryMatches")||(e.categoryMatches=[]),function(e){return da(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){Hs(e,(e=>{eu([],e)}))}(t),function(e){Hs(e,(e=>{e.categoryMatches=[],Hs(e.categoryMatchesMap,((t,n)=>{e.categoryMatches.push(Zc[n].tokenTypeIdx)}))}))}(t),Hs(t,(e=>{e.isParent=e.categoryMatches.length>0}))}function eu(e,t){Hs(e,(e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0})),Hs(t.CATEGORIES,(n=>{const r=e.concat(t);ga(r,n)||eu(r,n)}))}function tu(e){return da(e,"tokenTypeIdx")}function nu(e){return da(e,"CATEGORIES")}function ru(e){return da(e,"tokenTypeIdx")}const iu={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,n,r,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`};var ou,su;(su=ou||(ou={}))[su.MISSING_PATTERN=0]="MISSING_PATTERN",su[su.INVALID_PATTERN=1]="INVALID_PATTERN",su[su.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",su[su.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",su[su.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",su[su.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",su[su.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",su[su.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",su[su.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",su[su.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",su[su.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",su[su.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",su[su.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",su[su.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",su[su.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",su[su.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",su[su.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",su[su.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE";const au={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:iu,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(au);class cu{constructor(e,t=au){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${e}>`);const{time:r,value:i}=Ua(t),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Ui({},au,t);const n=this.config.traceInitPerf;!0===n?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof n&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(()=>{let n,r=!0;this.TRACE_INIT("Lexer Config handling",(()=>{if(this.config.lineTerminatorsPattern===au.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Kc;else if(this.config.lineTerminatorCharacters===au.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),tr(e)?n={modes:{defaultMode:as(e)},defaultMode:kc}:(r=!1,n=as(e))})),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e,t,n){const r=[];return da(e,kc)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+kc+"> property in its definition\n",type:ou.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),da(e,Lc)||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:ou.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),da(e,Lc)&&da(e,kc)&&!da(e.modes,e.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${kc}: <${e.defaultMode}>which does not exist\n`,type:ou.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),da(e,Lc)&&Hs(e.modes,((e,t)=>{Hs(e,((n,i)=>{Ra(n)?r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${t}> at index: <${i}>\n`,type:ou.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED}):da(n,"LONGER_ALT")&&Hs(tr(n.LONGER_ALT)?n.LONGER_ALT:[n.LONGER_ALT],(i=>{Ra(i)||ga(e,i)||r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${i.name}> on token <${n.name}> outside of mode <${t}>\n`,type:ou.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}))})),r}(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),this.TRACE_INIT("performWarningRuntimeChecks",(()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(jc(n,this.trackStartLines,this.config.lineTerminatorCharacters))}))),n.modes=n.modes?n.modes:{},Hs(n.modes,((e,t)=>{n.modes[t]=ba(e,(e=>Ra(e)))}));const i=wi(n.modes);if(Hs(n.modes,((e,n)=>{this.TRACE_INIT(`Mode: <${n}> processing`,(()=>{if(this.modes.push(n),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Pc(e,i))})),Ta(this.lexerDefinitionErrors)){let r;Qc(e),this.TRACE_INIT("analyzeTokenTypes",(()=>{r=wc(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})})),this.patternIdxToConfig[n]=r.patternIdxToConfig,this.charCodeToPatternIdxToConfig[n]=r.charCodeToPatternIdxToConfig,this.emptyGroups=Ui({},this.emptyGroups,r.emptyGroups),this.hasCustom=r.hasCustom||this.hasCustom,this.canModeBeOptimized[n]=r.canBeOptimized}}))})),this.defaultMode=n.defaultMode,!Ta(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const e=ia(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}Hs(this.lexerDefinitionWarning,(e=>{Ma(e.message)})),this.TRACE_INIT("Choosing sub-methods implementations",(()=>{if(Cc?(this.chopInput=_r,this.match=this.matchWithTest):(this.updateLastIndex=Pr,this.match=this.matchWithExec),r&&(this.handleModes=Pr),!1===this.trackStartLines&&(this.computeNewColumn=_r),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=Pr),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)})),this.TRACE_INIT("Failed Optimization Warnings",(()=>{const e=Sa(this.canModeBeOptimized,((e,t,n)=>(!1===t&&e.push(n),e)),[]);if(t.ensureOptimizations&&!Ta(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)})),this.TRACE_INIT("clearRegExpParserCache",(()=>{gc={}})),this.TRACE_INIT("toFastProperties",(()=>{Fa(this)}))}))}tokenize(e,t=this.defaultMode){if(!Ta(this.lexerDefinitionErrors)){const e=ia(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let n,r,i,o,s,a,c,u,l,h,f,d,p,m,_;const g=e,E=g.length;let v=0,y=0;const T=this.hasCustom?0:Math.floor(e.length/10),A=new Array(T),x=[];let R=this.trackStartLines?1:void 0,O=this.trackStartLines?1:void 0;const N=function(e){const t={};return Hs(wi(e),(n=>{const r=e[n];if(!tr(r))throw Error("non exhaustive match");t[n]=[]})),t}(this.emptyGroups),I=this.trackStartLines,S=this.config.lineTerminatorsPattern;let b=0,k=[],L=[];const C=[],w=[];let P;function M(){return k}function U(e){const t=Yc(e),n=L[t];return void 0===n?w:n}Object.freeze(w);const F=e=>{if(1===C.length&&void 0===e.tokenType.PUSH_MODE){const t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);x.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{C.pop();const e=Ws(C);k=this.patternIdxToConfig[e],L=this.charCodeToPatternIdxToConfig[e],b=k.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;P=L&&t?U:M}};function D(e){C.push(e),L=this.charCodeToPatternIdxToConfig[e],k=this.patternIdxToConfig[e],b=k.length,b=k.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;P=L&&t?U:M}let j;D.call(this,t);const $=this.config.recoveryEnabled;for(;v<E;){a=null;const t=g.charCodeAt(v),T=P(t),L=T.length;for(n=0;n<L;n++){j=T[n];const r=j.pattern;c=null;const l=j.short;if(!1!==l?t===l&&(a=r):!0===j.isCustom?(_=r.exec(g,v,A,N),null!==_?(a=_[0],void 0!==_.payload&&(c=_.payload)):a=null):(this.updateLastIndex(r,v),a=this.match(r,e,v)),null!==a){if(s=j.longerAlt,void 0!==s){const t=s.length;for(i=0;i<t;i++){const t=k[s[i]],n=t.pattern;if(u=null,!0===t.isCustom?(_=n.exec(g,v,A,N),null!==_?(o=_[0],void 0!==_.payload&&(u=_.payload)):o=null):(this.updateLastIndex(n,v),o=this.match(n,e,v)),o&&o.length>a.length){a=o,c=u,j=t;break}}}break}}if(null!==a){if(l=a.length,h=j.group,void 0!==h&&(f=j.tokenTypeIdx,d=this.createTokenInstance(a,v,f,j.tokenType,R,O,l),this.handlePayload(d,c),!1===h?y=this.addToken(A,y,d):N[h].push(d)),e=this.chopInput(e,l),v+=l,O=this.computeNewColumn(O,l),!0===I&&!0===j.canLineTerminator){let e,t,n=0;S.lastIndex=0;do{e=S.test(a),!0===e&&(t=S.lastIndex-1,n++)}while(!0===e);0!==n&&(R+=n,O=l-t,this.updateTokenEndLineColumnLocation(d,h,t,n,R,O,l))}this.handleModes(j,F,D,d)}else{const t=v,n=R,i=O;let o=!1===$;for(;!1===o&&v<E;)for(e=this.chopInput(e,1),v++,r=0;r<b;r++){const t=k[r],n=t.pattern,i=t.short;if(!1!==i?g.charCodeAt(v)===i&&(o=!0):!0===t.isCustom?o=null!==n.exec(g,v,A,N):(this.updateLastIndex(n,v),o=null!==n.exec(e)),!0===o)break}if(p=v-t,O=this.computeNewColumn(O,p),m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(g,t,p,n,i),x.push({offset:t,line:n,column:i,length:p,message:m}),!1===$)break}}return this.hasCustom||(A.length=y),{tokens:A,groups:N,errors:x}}handleModes(e,t,n,r){if(!0===e.pop){const i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,n,r,i,o,s){let a,c;void 0!==t&&(a=n===s-1,c=a?-1:0,1===r&&!0===a||(e.endLine=i+c,e.endColumn=o-1-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}}createFullToken(e,t,n,r,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(e,t,n){return e.push(n),t}addTokenUsingMemberAccess(e,t,n){return e[t]=n,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}matchWithExec(e,t){const n=e.exec(t);return null!==n?n[0]:null}}function uu(e){return lu(e)?e.LABEL:e.name}function lu(e){return pa(e.LABEL)&&""!==e.LABEL}cu.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",cu.NA=/NOT_APPLICABLE/;const hu="parent",fu="categories",du="label",pu="group",mu="push_mode",_u="pop_mode",gu="longer_alt",Eu="line_breaks",vu="start_chars_hint";function yu(e){return function(e){const t=e.pattern,n={};if(n.name=e.name,Ra(t)||(n.PATTERN=t),da(e,hu))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return da(e,fu)&&(n.CATEGORIES=e[fu]),Qc([n]),da(e,du)&&(n.LABEL=e[du]),da(e,pu)&&(n.GROUP=e[pu]),da(e,_u)&&(n.POP_MODE=e[_u]),da(e,mu)&&(n.PUSH_MODE=e[mu]),da(e,gu)&&(n.LONGER_ALT=e[gu]),da(e,Eu)&&(n.LINE_BREAKS=e[Eu]),da(e,vu)&&(n.START_CHARS_HINT=e[vu]),n}(e)}const Tu=yu({name:"EOF",pattern:cu.NA});function Au(e,t,n,r,i,o,s,a){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function xu(e,t){return qc(e,t)}Qc([Tu]);const Ru={buildMismatchTokenMessage:({expected:e,actual:t,previous:n,ruleName:r})=>`Expecting ${lu(e)?`--\x3e ${uu(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:i}){const o="Expecting: ",s="\nbut found: '"+na(t).image+"'";if(r)return o+r+s;{const t=ia(Sa(e,((e,t)=>e.concat(t)),[]),(e=>`[${ia(e,(e=>uu(e))).join(", ")}]`));return o+`one of these possible Token sequences:\n${ia(t,((e,t)=>`  ${t+1}. ${e}`)).join("\n")}`+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const i="Expecting: ",o="\nbut found: '"+na(t).image+"'";return n?i+n+o:i+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${ia(e,(e=>`[${ia(e,(e=>uu(e))).join(",")}]`)).join(" ,")}>`+o}};Object.freeze(Ru);const Ou={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Nu={buildDuplicateFoundError(e,t){const n=e.name,r=na(t),i=r.idx,o=Qa(r),s=(a=r)instanceof qa?a.terminalType.name:a instanceof $a?a.nonTerminalName:"";var a;let c=`->${o}${i>0?i:""}<- ${s?`with argument: ->${s}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=ia(e.prefixPath,(e=>uu(e))).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=ia(e.prefixPath,(e=>uu(e))).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError(e){let t=Qa(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${ia(e.leftRecursionPath,(e=>e.name)).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof Ba?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class Iu extends Ja{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Hs(ma(this.nameToTopRule),(e=>{this.currTopLevel=e,e.accept(this)}))}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:ql.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class Su extends ec{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=as(this.path.ruleStack).reverse(),this.occurrenceStack=as(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){Ta(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class bu extends Su{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const e=t.concat(n),r=new Ka({definition:e});this.possibleTokTypes=nc(r),this.found=!0}}}class ku extends ec{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Lu extends ku{walkMany(e,t,n){if(e.idx===this.occurrence){const e=na(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof qa&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,n)}}class Cu extends ku{walkManySep(e,t,n){if(e.idx===this.occurrence){const e=na(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof qa&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,n)}}class wu extends ku{walkAtLeastOne(e,t,n){if(e.idx===this.occurrence){const e=na(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof qa&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,n)}}class Pu extends ku{walkAtLeastOneSep(e,t,n){if(e.idx===this.occurrence){const e=na(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof qa&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,n)}}function Mu(e,t,n=[]){n=as(n);let r=[],i=0;function o(o){const s=Mu(o.concat(zs(e,i+1)),t,n);return r.concat(s)}for(;n.length<t&&i<e.length;){const t=e[i];if(t instanceof Ka)return o(t.definition);if(t instanceof $a)return o(t.definition);if(t instanceof Ga)r=o(t.definition);else{if(t instanceof Wa)return o(t.definition.concat([new Va({definition:t.definition})]));if(t instanceof za)return o([new Ka({definition:t.definition}),new Va({definition:[new qa({terminalType:t.separator})].concat(t.definition)})]);if(t instanceof Ha){const e=t.definition.concat([new Va({definition:[new qa({terminalType:t.separator})].concat(t.definition)})]);r=o(e)}else if(t instanceof Va){const e=t.definition.concat([new Va({definition:t.definition})]);r=o(e)}else{if(t instanceof Ya)return Hs(t.definition,(e=>{!1===Ta(e.definition)&&(r=o(e.definition))})),r;if(!(t instanceof qa))throw Error("non exhaustive match");n.push(t.terminalType)}}i++}return r.push({partialPath:n,suffixDef:zs(e,i)}),r}function Uu(e,t,n,r){const i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE";let a=!1;const c=t.length,u=c-r-1,l=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Ta(h);){const e=h.pop();if(e===s){a&&Ws(h).idx<=u&&h.pop();continue}const r=e.def,f=e.idx,d=e.ruleStack,p=e.occurrenceStack;if(Ta(r))continue;const m=r[0];if(m===i){const e={idx:f,def:zs(r),ruleStack:Vs(d),occurrenceStack:Vs(p)};h.push(e)}else if(m instanceof qa)if(f<c-1){const e=f+1;if(n(t[e],m.terminalType)){const t={idx:e,def:zs(r),ruleStack:d,occurrenceStack:p};h.push(t)}}else{if(f!==c-1)throw Error("non exhaustive match");l.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:d,occurrenceStack:p}),a=!0}else if(m instanceof $a){const e=as(d);e.push(m.nonTerminalName);const t=as(p);t.push(m.idx);const n={idx:f,def:m.definition.concat(o,zs(r)),ruleStack:e,occurrenceStack:t};h.push(n)}else if(m instanceof Ga){const e={idx:f,def:zs(r),ruleStack:d,occurrenceStack:p};h.push(e),h.push(s);const t={idx:f,def:m.definition.concat(zs(r)),ruleStack:d,occurrenceStack:p};h.push(t)}else if(m instanceof Wa){const e=new Va({definition:m.definition,idx:m.idx}),t={idx:f,def:m.definition.concat([e],zs(r)),ruleStack:d,occurrenceStack:p};h.push(t)}else if(m instanceof za){const e=new qa({terminalType:m.separator}),t=new Va({definition:[e].concat(m.definition),idx:m.idx}),n={idx:f,def:m.definition.concat([t],zs(r)),ruleStack:d,occurrenceStack:p};h.push(n)}else if(m instanceof Ha){const e={idx:f,def:zs(r),ruleStack:d,occurrenceStack:p};h.push(e),h.push(s);const t=new qa({terminalType:m.separator}),n=new Va({definition:[t].concat(m.definition),idx:m.idx}),i={idx:f,def:m.definition.concat([n],zs(r)),ruleStack:d,occurrenceStack:p};h.push(i)}else if(m instanceof Va){const e={idx:f,def:zs(r),ruleStack:d,occurrenceStack:p};h.push(e),h.push(s);const t=new Va({definition:m.definition,idx:m.idx}),n={idx:f,def:m.definition.concat([t],zs(r)),ruleStack:d,occurrenceStack:p};h.push(n)}else if(m instanceof Ya)for(let t=m.definition.length-1;t>=0;t--){const e={idx:f,def:m.definition[t].definition.concat(zs(r)),ruleStack:d,occurrenceStack:p};h.push(e),h.push(s)}else if(m instanceof Ka)h.push({idx:f,def:m.definition.concat(zs(r)),ruleStack:d,occurrenceStack:p});else{if(!(m instanceof Ba))throw Error("non exhaustive match");h.push(Fu(m,f,d,p))}}return l}function Fu(e,t,n,r){const i=as(n);i.push(e.name);const o=as(r);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}var Du,ju;function $u(e){if(e instanceof Ga||"Option"===e)return Du.OPTION;if(e instanceof Va||"Repetition"===e)return Du.REPETITION;if(e instanceof Wa||"RepetitionMandatory"===e)return Du.REPETITION_MANDATORY;if(e instanceof za||"RepetitionMandatoryWithSeparator"===e)return Du.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Ha||"RepetitionWithSeparator"===e)return Du.REPETITION_WITH_SEPARATOR;if(e instanceof Ya||"Alternation"===e)return Du.ALTERNATION;throw Error("non exhaustive match")}function Bu(e,t,n,r){const i=e.length,o=Xs(e,(e=>Xs(e,(e=>1===e.length))));if(t)return function(t){const r=ia(t,(e=>e.GATE));for(let o=0;o<i;o++){const t=e[o],i=t.length,s=r[o];if(void 0===s||!1!==s.call(this))e:for(let e=0;e<i;e++){const r=t[e],i=r.length;for(let e=0;e<i;e++){const t=this.LA(e+1);if(!1===n(t,r[e]))continue e}return o}}};if(o&&!r){const t=Sa(ia(e,(e=>ho(e))),((e,t,n)=>(Hs(t,(t=>{da(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),Hs(t.categoryMatches,(t=>{da(e,t)||(e[t]=n)}))})),e)),{});return function(){const e=this.LA(1);return t[e.tokenTypeIdx]}}return function(){for(let t=0;t<i;t++){const r=e[t],i=r.length;e:for(let e=0;e<i;e++){const i=r[e],o=i.length;for(let e=0;e<o;e++){const t=this.LA(e+1);if(!1===n(t,i[e]))continue e}return t}}}}function Ku(e,t,n){const r=Xs(e,(e=>1===e.length)),i=e.length;if(r&&!n){const t=ho(e);if(1===t.length&&Ta(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=Sa(t,((e,t,n)=>(e[t.tokenTypeIdx]=!0,Hs(t.categoryMatches,(t=>{e[t]=!0})),e)),[]);return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let n=0;n<i;n++){const r=e[n],i=r.length;for(let e=0;e<i;e++){const n=this.LA(e+1);if(!1===t(n,r[e]))continue e}return!0}return!1}}(ju=Du||(Du={}))[ju.OPTION=0]="OPTION",ju[ju.REPETITION=1]="REPETITION",ju[ju.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",ju[ju.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",ju[ju.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",ju[ju.ALTERNATION=5]="ALTERNATION";class Gu extends ec{constructor(e,t,n){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}walkOption(e,t,n){this.checkIsTarget(e,Du.OPTION,t,n)||super.walkOption(e,t,n)}walkAtLeastOne(e,t,n){this.checkIsTarget(e,Du.REPETITION_MANDATORY,t,n)||super.walkOption(e,t,n)}walkAtLeastOneSep(e,t,n){this.checkIsTarget(e,Du.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}walkMany(e,t,n){this.checkIsTarget(e,Du.REPETITION,t,n)||super.walkOption(e,t,n)}walkManySep(e,t,n){this.checkIsTarget(e,Du.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}}class Wu extends Ja{constructor(e,t,n){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Du.OPTION)}visitRepetition(e){this.checkIsTarget(e,Du.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Du.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Du.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Du.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Du.ALTERNATION)}}function zu(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function Vu(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n],i=[];for(let e=0;e<t.length;e++){const n=t[e];i.push(n+"_"+r.tokenTypeIdx);for(let e=0;e<r.categoryMatches.length;e++){const t="_"+r.categoryMatches[e];i.push(n+t)}}t=i}return t}function Hu(e,t,n){for(let r=0;r<e.length;r++){if(r===n)continue;const i=e[r];for(let e=0;e<t.length;e++)if(!0===i[t[e]])return!1}return!0}function Yu(e,t){const n=ia(e,(e=>Mu([e],1))),r=zu(n.length),i=ia(n,(e=>{const t={};return Hs(e,(e=>{Hs(Vu(e.partialPath),(e=>{t[e]=!0}))})),t}));let o=n;for(let s=1;s<=t;s++){const e=o;o=zu(e.length);for(let n=0;n<e.length;n++){const a=e[n];for(let e=0;e<a.length;e++){const c=a[e].partialPath,u=a[e].suffixDef,l=Vu(c);if(Hu(i,l,n)||Ta(u)||c.length===t){const e=r[n];if(!1===Ju(e,c)){e.push(c);for(let e=0;e<l.length;e++){const t=l[e];i[n][t]=!0}}}else{const e=Mu(u,s+1,c);o[n]=o[n].concat(e),Hs(e,(e=>{Hs(Vu(e.partialPath),(e=>{i[n][e]=!0}))}))}}}}return r}function qu(e,t,n,r){const i=new Wu(e,Du.ALTERNATION,r);return t.accept(i),Yu(i.result,n)}function Xu(e,t,n,r){const i=new Wu(e,n);t.accept(i);const o=i.result,s=new Gu(t,e,n).startWalking();return Yu([new Ka({definition:o}),new Ka({definition:s})],r)}function Ju(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length===t.length){for(let e=0;e<r.length;e++){const n=t[e],i=r[e];if(!1==(n===i||void 0!==i.categoryMatchesMap[n.tokenTypeIdx]))continue e}return!0}}return!1}function Zu(e){return Xs(e,(e=>Xs(e,(e=>Xs(e,(e=>Ta(e.categoryMatches)))))))}function Qu(e,t,n,r){const i=oa(e,(e=>function(e,t){const n=new nl;e.accept(n);const r=n.allProductions,i=la(r,el),o=ia(ma(Na(i,(e=>e.length>1))),(n=>{const r=na(n),i=t.buildDuplicateFoundError(e,n),o=Qa(r),s={message:i,type:ql.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:o,occurrence:r.idx},a=tl(r);return a&&(s.parameter=a),s}));return o}(e,n))),o=function(e,t,n){const r=[],i=ia(t,(e=>e.name));return Hs(e,(e=>{const t=e.name;if(ga(i,t)){const i=n.buildNamespaceConflictError(e);r.push({message:i,type:ql.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,t,n),s=oa(e,(e=>function(e,t){const n=new ol;e.accept(n);const r=oa(n.alternations,(n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:ql.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[]));return r}(e,n))),a=oa(e,(t=>function(e,t,n,r){const i=[],o=Sa(t,((t,n)=>n.name===e.name?t+1:t),0);if(o>1){const t=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:t,type:ql.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,r,n)));return i.concat(o,s,a)}function el(e){return`${Qa(e)}_#_${e.idx}_#_${tl(e)}`}function tl(e){return e instanceof qa?e.terminalType.name:e instanceof $a?e.nonTerminalName:""}class nl extends Ja{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function rl(e,t,n,r=[]){const i=[],o=il(t.definition);if(Ta(o))return[];{const t=e.name;ga(o,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:ql.LEFT_RECURSION,ruleName:t});const s=oa(Gs(o,r.concat([e])),(t=>{const i=as(r);return i.push(t),rl(e,t,n,i)}));return i.concat(s)}}function il(e){let t=[];if(Ta(e))return t;const n=na(e);if(n instanceof $a)t.push(n.referencedRule);else if(n instanceof Ka||n instanceof Ga||n instanceof Wa||n instanceof za||n instanceof Ha||n instanceof Va)t=t.concat(il(n.definition));else if(n instanceof Ya)t=ho(ia(n.definition,(e=>il(e.definition))));else if(!(n instanceof qa))throw Error("non exhaustive match");const r=Za(n),i=e.length>1;if(r&&i){const n=zs(e);return t.concat(il(n))}return t}class ol extends Ja{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function sl(e,t,n){const r=new ol;e.accept(r);let i=r.alternations;i=ba(i,(e=>!0===e.ignoreAmbiguities));const o=oa(i,(r=>{const i=r.idx,o=r.maxLookahead||t,s=qu(i,e,o,r),a=function(e,t,n,r){const i=[],o=Sa(e,((n,r,o)=>(!0===t.definition[o].ignoreAmbiguities||Hs(r,(r=>{const s=[o];Hs(e,((e,n)=>{o!==n&&Ju(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&s.push(n)})),s.length>1&&!Ju(i,r)&&(i.push(r),n.push({alts:s,path:r}))})),n)),[]),s=ia(o,(e=>{const i=ia(e.alts,(e=>e+1));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:ql.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}}));return s}(s,r,e,n),c=function(e,t,n,r){const i=Sa(e,((e,t,n)=>{const r=ia(t,(e=>({idx:n,path:e})));return e.concat(r)}),[]),o=cs(oa(i,(e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];const o=e.idx,s=e.path;return ia(Zs(i,(e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<o&&(n=e.path,r=s,n.length<r.length&&Xs(n,((e,t)=>{const n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]})));var n,r})),(e=>{const i=[e.idx+1,o+1],s=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:ql.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:s,alternatives:i}}))})));return o}(s,r,e,n);return a.concat(c)}));return o}class al extends Ja{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function cl(e){const t=$s(e,{errMsgProvider:Ou}),n={};return Hs(e.rules,(e=>{n[e.name]=e})),function(e,t){const n=new Iu(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}const ul="MismatchedTokenException",ll="NoViableAltException",hl="EarlyExitException",fl="NotAllInputParsedException",dl=[ul,ll,hl,fl];function pl(e){return ga(dl,e.name)}Object.freeze(dl);class ml extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class _l extends ml{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=ul}}class gl extends ml{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=ll}}class El extends ml{constructor(e,t){super(e,t),this.name=fl}}class vl extends ml{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=hl}}const yl={},Tl="InRuleRecoveryException";class Al extends Error{constructor(e){super(e),this.name=Tl}}function xl(e,t,n,r,i,o,s){const a=this.getKeyForAutomaticLookahead(r,i);let c=this.firstAfterRepMap[a];if(void 0===c){const e=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[a]=c}let u=c.token,l=c.occurrence;const h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===u&&(u=Tu,l=1),void 0!==u&&void 0!==l&&this.shouldInRepetitionRecoveryBeTried(u,l,s)&&this.tryInRepetitionRecovery(e,t,n,u)}const Rl=1024,Ol=1280,Nl=1536;function Il(e,t,n){return n|t|e}class Sl{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:Hl.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if(Ta(t)){const n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...n,...r,...i]}return t}validateNoLeftRecursion(e){return oa(e,(e=>rl(e,e,Nu)))}validateEmptyOrAlternatives(e){return oa(e,(e=>function(e,t){const n=new ol;return e.accept(n),oa(n.alternations,(n=>oa(Vs(n.definition),((r,i)=>Ta(Uu([r],[],qc,1))?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:i}),type:ql.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:i+1}]:[]))))}(e,Nu)))}validateAmbiguousAlternationAlternatives(e,t){return oa(e,(e=>sl(e,t,Nu)))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,n){const r=[];return Hs(e,(e=>{const i=new al;e.accept(i),Hs(i.allProductions,(i=>{const o=$u(i),s=i.maxLookahead||t;if(Ta(ho(Xu(i.idx,e,o,s)[0]))){const t=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:t,type:ql.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}(e,t,Nu)}buildLookaheadForAlternation(e){return function(e,t,n,r,i,o){const s=qu(e,t,n);return o(s,r,Zu(s)?Xc:qc,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Bu)}buildLookaheadForOptional(e){return function(e,t,n,r,i,o){const s=Xu(e,t,i,n),a=Zu(s)?Xc:qc;return o(s[0],a,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,$u(e.prodType),Ku)}}const bl=new class extends Ja{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function kl(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset)}function Ll(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Cl(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function wl(e,t){const n=wi(e),r=n.length;for(let i=0;i<r;i++){const r=e[n[i]],o=r.length;for(let e=0;e<o;e++){const n=r[e];void 0===n.tokenTypeIdx&&this[n.name](n.children,t)}}}function Pl(e,t){const n=function(){};Cl(n,e+"BaseSemantics");const r={visit:function(e,t){if(tr(e)&&(e=e[0]),!Ra(e))return this[e.name](e.children,t)},validateVisitor:function(){const e=function(e,t){const n=function(e,t){const n=Zs(t,(t=>!1===gr(e[t]))),r=ia(n,(t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:Ml.MISSING_METHOD,methodName:t})));return cs(r)}(e,t);return n}(this,t);if(!Ta(e)){const t=ia(e,(e=>e.msg));throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}var Ml,Ul;(Ul=Ml||(Ml={}))[Ul.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",Ul[Ul.MISSING_METHOD=1]="MISSING_METHOD";const Fl={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Fl);const Dl=Math.pow(2,8)-1,jl=yu({name:"RECORDING_PHASE_TOKEN",pattern:cu.NA});Qc([jl]);const $l=Au(jl,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze($l);const Bl={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Kl(e,t,n,r=!1){zl(n);const i=Ws(this.recordingProdStack),o=gr(t)?t:t.DEF,s=new e({definition:[],idx:n});return r&&(s.separator=t.SEP),da(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),Fl}function Gl(e,t){zl(t);const n=Ws(this.recordingProdStack),r=!1===tr(e),i=!1===r?e:e.DEF,o=new Ya({definition:[],idx:t,ignoreAmbiguities:r&&!0===e.IGNORE_AMBIGUITIES});da(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);const s=La(i,(e=>gr(e.GATE)));return o.hasPredicates=s,n.definition.push(o),Hs(i,(e=>{const t=new Ka({definition:[]});o.definition.push(t),da(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:da(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()})),Fl}function Wl(e){return 0===e?"":`${e}`}function zl(e){if(e<0||e>Dl){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${Dl+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const Vl=Au(Tu,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Vl);const Hl=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Ru,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Yl=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ql,Xl,Jl;(Xl=ql||(ql={}))[Xl.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Xl[Xl.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Xl[Xl.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Xl[Xl.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Xl[Xl.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Xl[Xl.LEFT_RECURSION=5]="LEFT_RECURSION",Xl[Xl.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Xl[Xl.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Xl[Xl.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Xl[Xl.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Xl[Xl.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Xl[Xl.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Xl[Xl.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Xl[Xl.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION";class Zl{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",(()=>{Fa(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),Hs(this.definedRulesNames,(e=>{const t=this[e].originalGrammarAction;let n;this.TRACE_INIT(`${e} Rule`,(()=>{n=this.topLevelRuleRecord(e,t)})),this.gastProductionsCache[e]=n}))}finally{this.disableRecording()}}));let n=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{n=cl({rules:ma(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)})),this.TRACE_INIT("Grammar Validations",(()=>{if(Ta(n)&&!1===this.skipValidations){const n=(e={rules:ma(this.gastProductionsCache),tokenTypes:ma(this.tokensMap),errMsgProvider:Nu,grammarName:t},Qu((e=$s(e,{errMsgProvider:Nu})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)),r=function(e){return ia(e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName}),(e=>Object.assign({type:ql.CUSTOM_LOOKAHEAD_VALIDATION},e)))}({lookaheadStrategy:this.lookaheadStrategy,rules:ma(this.gastProductionsCache),tokenTypes:ma(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(n,r)}var e})),Ta(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{const e=function(e){const t={};return Hs(e,(e=>{const n=new ic(e).startWalking();Ui(t,n)})),t}(ma(this.gastProductionsCache));this.resyncFollows=e})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:ma(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ma(this.gastProductionsCache))}))),!Zl.DEFER_DEFINITION_ERRORS_HANDLING&&!Ta(this.definitionErrors))throw e=ia(this.definitionErrors,(e=>e.message)),new Error(`Parser Definition Errors detected:\n ${e.join("\n-------------------------------\n")}`)}))}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),da(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=da(t,"skipValidations")?t.skipValidations:Hl.skipValidations}}Zl.DEFER_DEFINITION_ERRORS_HANDLING=!1,Jl=Zl,[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=da(e,"recoveryEnabled")?e.recoveryEnabled:Hl.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=xl)}getTokenToInsert(e){const t=Au(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,n,r){const i=this.findReSyncTokenType(),o=this.exportLexerState(),s=[];let a=!1;const c=this.LA(1);let u=this.LA(1);const l=()=>{const e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:this.getCurrRuleFullName()}),n=new _l(t,c,this.LA(0));n.resyncedTokens=Vs(s),this.SAVE_ERROR(n)};for(;!a;){if(this.tokenMatcher(u,r))return void l();if(n.call(this))return l(),void e.apply(this,t);this.tokenMatcher(u,i)?a=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,s))}this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,t,n){return!1!==n&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){const n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new Al("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Ta(t))return!1;const n=this.LA(1);return void 0!==ta(t,(e=>this.tokenMatcher(n,e)))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey();return ga(this.getFollowSetFromFollowKey(t),e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=ta(e,(e=>xu(t,e)));if(void 0!==r)return r;t=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return yl;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return ia(e,((n,r)=>0===r?yl:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(e[r-1])}))}flattenFollowSet(){return ho(ia(this.buildFullFollowKeyStack(),(e=>this.getFollowSetFromFollowKey(e))))}getFollowSetFromFollowKey(e){if(e===yl)return[Tu];const t=e.ruleName+e.idxInCallingRule+rc+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Tu)||t.push(e),t}reSyncTo(e){const t=[];let n=this.LA(1);for(;!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Vs(t)}attemptInRepetitionRecovery(e,t,n,r,i,o,s){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:as(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return ia(this.RULE_STACK,(e=>this.shortRuleNameToFullName(e)))}},class{initLooksAhead(e){this.dynamicTokensEnabled=da(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Hl.dynamicTokensEnabled,this.maxLookahead=da(e,"maxLookahead")?e.maxLookahead:Hl.maxLookahead,this.lookaheadStrategy=da(e,"lookaheadStrategy")?e.lookaheadStrategy:new Sl({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Hs(e,(e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,(()=>{const{alternation:t,repetition:n,option:r,repetitionMandatory:i,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:s}=function(e){bl.reset(),e.accept(bl);const t=bl.dslMethods;return bl.reset(),t}(e);Hs(t,(t=>{const n=0===t.idx?"":t.idx;this.TRACE_INIT(`${Qa(t)}${n}`,(()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),r=Il(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(r,n)}))})),Hs(n,(t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,Qa(t))})),Hs(r,(t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,Qa(t))})),Hs(i,(t=>{this.computeLookaheadFunc(e,t.idx,Rl,"RepetitionMandatory",t.maxLookahead,Qa(t))})),Hs(o,(t=>{this.computeLookaheadFunc(e,t.idx,Nl,"RepetitionMandatoryWithSeparator",t.maxLookahead,Qa(t))})),Hs(s,(t=>{this.computeLookaheadFunc(e,t.idx,Ol,"RepetitionWithSeparator",t.maxLookahead,Qa(t))}))}))}))}computeLookaheadFunc(e,t,n,r,i,o){this.TRACE_INIT(`${o}${0===t?"":t}`,(()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),s=Il(this.fullRuleNameToShort[e.name],n,t);this.setLaFuncCache(s,o)}))}getKeyForAutomaticLookahead(e,t){return Il(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=da(e,"nodeLocationTracking")?e.nodeLocationTracking:Hl.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ll,this.setNodeLocationFromNode=Ll,this.cstPostRule=Pr,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Pr,this.setNodeLocationFromNode=Pr,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=kl,this.setNodeLocationFromNode=kl,this.cstPostRule=Pr,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Pr,this.setNodeLocationFromNode=Pr,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=Pr,this.setNodeLocationFromNode=Pr,this.cstPostRule=Pr,this.setInitialNodeLocation=Pr}else this.cstInvocationStateUpdate=Pr,this.cstFinallyStateUpdate=Pr,this.cstPostTerminal=Pr,this.cstPostNonTerminal=Pr,this.cstPostRule=Pr}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?n.endOffset=t.endOffset:n.startOffset=NaN}cstPostTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];var r,i,o;i=t,o=e,void 0===(r=n).children[o]?r.children[o]=[i]:r.children[o].push(i),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Ra(this.baseCstVisitorConstructor)){const e=Pl(this.className,wi(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Ra(this.baseCstVisitorWithDefaultsConstructor)){const e=function(e,t,n){const r=function(){};Cl(r,e+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return Hs(t,(e=>{i[e]=wl})),(r.prototype=i).constructor=r,r}(this.className,wi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Vl}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Vl:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Xc,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},da(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(tr(e)){if(Ta(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(tr(e))this.tokensMap=Sa(e,((e,t)=>(e[t.name]=t,e)),{});else if(da(e,"modes")&&Xs(ho(ma(e.modes)),ru)){const t=wa(ho(ma(e.modes)));this.tokensMap=Sa(t,((e,t)=>(e[t.name]=t,e)),{})}else{if(!cr(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=as(e)}this.tokensMap.EOF=Tu;const n=Xs(da(e,"modes")?ho(ma(e.modes)):ma(e),(e=>Ta(e.categoryMatches)));this.tokenMatcher=n?Xc:qc,Qc(ma(this.tokensMap))}defineRule(e,t,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=da(n,"resyncEnabled")?n.resyncEnabled:Yl.resyncEnabled,i=da(n,"recoveryValueFunc")?n.recoveryValueFunc:Yl.recoveryValueFunc,o=this.ruleShortNameIdx<<12;let s;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,s=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,n);const r=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(r),r}catch(s){return this.invokeRuleCatch(s,r,i)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,n)}catch(s){return this.invokeRuleCatch(s,r,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,n){const r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(pl(e)){const t=e;if(i){const r=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(r)){if(t.resyncedTokens=this.reSyncTo(r),this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return n(e)}if(this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(r)return this.moveToTerminatedState(),n(e);throw t}throw e}optionInternal(e,t){const n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}optionInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof e){r=e.DEF;const t=e.GATE;if(void 0!==t){const e=i;i=()=>t.call(this)&&e.call(this)}}else r=e;if(!0===i.call(this))return r.call(this)}atLeastOneInternal(e,t){const n=this.getKeyForAutomaticLookahead(Rl,e);return this.atLeastOneInternalLogic(e,t,n)}atLeastOneInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,Du.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(r);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(r)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,Rl,e,wu)}atLeastOneSepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Nl,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}atLeastOneSepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,Du.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,Pu],t,Nl,e,Pu)}}manyInternal(e,t){const n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}manyInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;let o=!0;for(;!0===i.call(this)&&!0===o;)o=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,Lu,o)}manySepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Ol,e);this.manySepFirstInternalLogic(e,t,n)}manySepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,Cu],t,Ol,e,Cu)}}repetitionSepSecondInternal(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,Nl,e,i)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const n=this.getKeyForAutomaticLookahead(256,t),r=tr(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new El(t,e))}}subruleInternal(e,t,n){let r;try{const i=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(i){throw this.subruleInternalError(i,n,e.ruleName)}}subruleInternalError(e,t,n){throw pl(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,t,n){let r;try{const t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),r=t):this.consumeInternalError(e,t,n)}catch(i){r=this.consumeInternalRecovery(e,t,i)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}consumeInternalError(e,t,n){let r;const i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new _l(r,t,i))}consumeInternalRecovery(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(r){throw r.name===Tl?n:r}}}saveRecogState(){const e=this.errors,t=as(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Tu)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,n){return this.consumeInternal(t,e,n)}subrule(e,t,n){return this.subruleInternal(t,e,n)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,n=Yl){if(ga(this.definedRulesNames,e)){const t={message:Nu.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ql.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);const r=this.defineRule(e,t,n);return this[e]=r,r}OVERRIDE_RULE(e,t,n=Yl){const r=function(e,t,n){const r=[];let i;return ga(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:ql.INVALID_RULE_OVERRIDE,ruleName:e})),r}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const i=this.defineRule(e,t,n);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(pl(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return ia(ma(this.gastProductionsCache),Xa)}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=da(e,"errorMessageProvider")?e.errorMessageProvider:Hl.errorMessageProvider}SAVE_ERROR(e){if(pl(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:as(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return as(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,n){const r=this.getCurrRuleFullName(),i=Xu(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],o=[];for(let a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));const s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new vl(s,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const n=this.getCurrRuleFullName(),r=qu(e,this.getGAstProductions()[n],this.maxLookahead),i=[];for(let a=1;a<=this.maxLookahead;a++)i.push(this.LA(a));const o=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new gl(s,this.LA(1),o))}},class{initContentAssist(){}computeContentAssist(e,t){const n=this.gastProductionsCache[e];if(Ra(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Uu([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=na(e.ruleStack),n=this.getGAstProductions()[t];return new bu(n,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(t,n){return this.consumeInternalRecord(t,e,n)},this[`SUBRULE${t}`]=function(t,n){return this.subruleInternalRecord(t,e,n)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},this.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{const e=this;for(let t=0;t<10;t++){const n=t>0?t:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return Vl}topLevelRuleRecord(e,t){try{const n=new Ba({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(n){if(!0!==n.KNOWN_RECORDER_ERROR)try{n.message=n.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(r){throw n}throw n}}optionInternalRecord(e,t){return Kl.call(this,Ga,e,t)}atLeastOneInternalRecord(e,t){Kl.call(this,Wa,t,e)}atLeastOneSepFirstInternalRecord(e,t){Kl.call(this,za,t,e,!0)}manyInternalRecord(e,t){Kl.call(this,Va,t,e)}manySepFirstInternalRecord(e,t){Kl.call(this,Ha,t,e,!0)}orInternalRecord(e,t){return Gl.call(this,e,t)}subruleInternalRecord(e,t,n){if(zl(t),!e||!1===da(e,"ruleName")){const n=new Error(`<SUBRULE${Wl(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=Ws(this.recordingProdStack),i=e.ruleName,o=new $a({idx:t,nonTerminalName:i,label:null==n?void 0:n.LABEL,referencedRule:void 0});return r.definition.push(o),this.outputCst?Bl:Fl}consumeInternalRecord(e,t,n){if(zl(t),!tu(e)){const n=new Error(`<CONSUME${Wl(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=Ws(this.recordingProdStack),i=new qa({idx:t,terminalType:e,label:null==n?void 0:n.LABEL});return r.definition.push(i),$l}},class{initPerformanceTracer(e){if(da(e,"traceInitPerf")){const t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Hl.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${e}>`);const{time:r,value:i}=Ua(t),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()}}].forEach((e=>{const t=e.prototype;Object.getOwnPropertyNames(t).forEach((n=>{if("constructor"===n)return;const r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(Jl.prototype,n,r):Jl.prototype[n]=e.prototype[n]}))}));class Ql extends Zl{constructor(e,t=Hl){const n=as(t);n.outputCst=!0,super(e,n)}}const eh=yu({name:"AdditionOperator",pattern:cu.NA}),th=yu({name:"Plus",pattern:/\+/,categories:eh}),nh=yu({name:"Minus",pattern:/-/,categories:eh}),rh=yu({name:"MultiplicationOperator",pattern:cu.NA}),ih=yu({name:"Multi",pattern:/\*/,categories:rh}),oh=yu({name:"Div",pattern:/\//,categories:rh}),sh=yu({name:"LParen",pattern:/\(/}),ah=yu({name:"RParen",pattern:/\)/}),ch=yu({name:"NumberLiteral",pattern:/[0-9]\d*/}),uh=yu({name:"SqrtFunc",pattern:/sqrt/}),lh=yu({name:"LogFunc",pattern:/log/}),hh=yu({name:"Comma",pattern:/,/}),fh=[yu({name:"WhiteSpace",pattern:/\s+/,group:cu.SKIPPED}),th,nh,ih,oh,sh,ah,ch,eh,rh,uh,lh,hh],dh=new cu(fh),ph=new class extends Ql{constructor(){super(fh);const e=this;e.RULE("expression",(()=>{e.SUBRULE(e.additionExpression)})),e.RULE("additionExpression",(()=>{e.SUBRULE(e.multiplicationExpression,{LABEL:"lhs"}),e.MANY((()=>{e.CONSUME(eh),e.SUBRULE2(e.multiplicationExpression,{LABEL:"rhs"})}))})),e.RULE("multiplicationExpression",(()=>{e.SUBRULE(e.atomicExpression,{LABEL:"lhs"}),e.MANY((()=>{e.CONSUME(rh),e.SUBRULE2(e.atomicExpression,{LABEL:"rhs"})}))})),e.RULE("atomicExpression",(()=>{e.OR([{ALT:()=>e.SUBRULE(e.parenthesisExpression)},{ALT:()=>e.CONSUME(ch)},{ALT:()=>e.SUBRULE(e.sqrtFunction)},{ALT:()=>e.SUBRULE(e.logFunction)}])})),e.RULE("parenthesisExpression",(()=>{e.CONSUME(sh),e.SUBRULE(e.expression),e.CONSUME(ah)})),e.RULE("sqrtFunction",(()=>{e.CONSUME(uh),e.CONSUME(sh),e.SUBRULE(e.expression),e.CONSUME(ah)})),e.RULE("logFunction",(()=>{e.CONSUME(lh),e.CONSUME(sh),e.SUBRULE(e.expression),e.CONSUME(ah)})),this.performSelfAnalysis()}}([]),mh=ph.getBaseCstVisitorConstructor(),_h=new class extends mh{constructor(){super(),this.validateVisitor()}expression(e){return this.visit(e.additionExpression)}additionExpression(e){let t=this.visit(e.lhs);return e.rhs&&e.rhs.forEach(((n,r)=>{let i=this.visit(n);xu(e.AdditionOperator[r],th)?t+=i:t-=i})),t}multiplicationExpression(e){let t=this.visit(e.lhs);return e.rhs&&e.rhs.forEach(((n,r)=>{let i=this.visit(n);xu(e.MultiplicationOperator[r],ih)?t*=i:t/=i})),t}atomicExpression(e){return e.parenthesisExpression?this.visit(e.parenthesisExpression):e.NumberLiteral?parseInt(e.NumberLiteral[0].image,10):e.sqrtFunction?this.visit(e.sqrtFunction):e.logFunction?this.visit(e.logFunction):void 0}parenthesisExpression(e){return this.visit(e.expression)}sqrtFunction(e){const t=this.visit(e.expression);return Math.sqrt(t)}logFunction(e){const t=this.visit(e.expression);return Math.log10(t)}};$n.data("calculator",(()=>({input:"",steps:[],errors:[],result:null,add(e){this.input=`${this.input}${e}`,this.$refs.input.select()},remove(){var e;this.input=(this.input??"").slice(0,((null==(e=this.input)?void 0:e.length)??0)-1),this.$refs.input.select()},calculate(){if(this.input=(this.input??"").trim(),""===this.input)return void(this.errors=[]);const e=function(e){const t=dh.tokenize(e);ph.input=t.tokens;const n=ph.expression();return{value:_h.visit(n),lexResult:t,parseErrors:ph.errors}}(this.input?this.input:1*this.input);this.errors=e.parseErrors,this.result=e.value}}))),$n.start(),window.Alpine=$n}},function(){return t||(0,e[n(e)[0]])((t={exports:{}}).exports,t),t.exports});export default r();
